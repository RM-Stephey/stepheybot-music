import{s as Ee,n as X,r as ae,o as Ie}from"../chunks/DP8VM1Me.js";import{S as Me,i as Pe,d as f,k as J,a as S,b as c,o as q,l as d,c as h,e as M,n as B,g as A,h as v,j as H,D as ue,s as R,f as j,t as F,p as ce,z as Ve,r as we,u as Ne,B as Ae,m as He,C as Le,A as Se}from"../chunks/DOSGr0tm.js";import{e as Z}from"../chunks/D6YF6ztN.js";import{m as W}from"../chunks/CY0B7flr.js";function de(n,e,t){const l=n.slice();return l[32]=e[t],l}function fe(n,e,t){const l=n.slice();return l[35]=e[t],l}function he(n,e,t){const l=n.slice();return l[38]=e[t],l}function ve(n,e,t){const l=n.slice();return l[38]=e[t],l}function _e(n){let e,t,l,s,r,i,a="üîç",o,p,b,C,m,u=n[5]&&pe();function V(E,w){if(E[7])return Oe;if(E[2].length>0)return Ue;if(E[1].length>=2&&!E[5])return Be;if(E[1].length<2)return Qe}let k=V(n),D=k&&k(n);return{c(){e=v("div"),t=v("div"),l=v("div"),s=v("input"),r=H(),i=v("div"),i.textContent=a,o=H(),u&&u.c(),p=H(),b=v("div"),D&&D.c(),this.h()},l(E){e=h(E,"DIV",{class:!0});var w=M(e);t=h(w,"DIV",{class:!0});var y=M(t);l=h(y,"DIV",{class:!0});var g=M(l);s=h(g,"INPUT",{type:!0,placeholder:!0,class:!0}),r=A(g),i=h(g,"DIV",{class:!0,"data-svelte-h":!0}),B(i)!=="svelte-6duvnh"&&(i.textContent=a),o=A(g),u&&u.l(g),g.forEach(f),y.forEach(f),p=A(w),b=h(w,"DIV",{class:!0});var N=M(b);D&&D.l(N),N.forEach(f),w.forEach(f),this.h()},h(){d(s,"type","text"),d(s,"placeholder","Search for tracks, artists, or albums..."),d(s,"class","search-input svelte-1tik46b"),d(i,"class","search-icon svelte-1tik46b"),d(l,"class","search-input-wrapper svelte-1tik46b"),d(t,"class","search-container svelte-1tik46b"),d(b,"class","search-results"),d(e,"class","search-section")},m(E,w){S(E,e,w),c(e,t),c(t,l),c(l,s),ue(s,n[1]),c(l,r),c(l,i),c(l,o),u&&u.m(l,null),c(e,p),c(e,b),D&&D.m(b,null),C||(m=[q(s,"input",n[20]),q(s,"input",n[10])],C=!0)},p(E,w){w[0]&2&&s.value!==E[1]&&ue(s,E[1]),E[5]?u||(u=pe(),u.c(),u.m(l,null)):u&&(u.d(1),u=null),k===(k=V(E))&&D?D.p(E,w):(D&&D.d(1),D=k&&k(E),D&&(D.c(),D.m(b,null)))},d(E){E&&f(e),u&&u.d(),D&&D.d(),C=!1,ae(m)}}}function pe(n){let e,t='<div class="loading-spinner svelte-1tik46b"></div>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-1syvpah"&&(e.innerHTML=t),this.h()},h(){d(e,"class","search-loading svelte-1tik46b")},m(l,s){S(l,e,s)},d(l){l&&f(e)}}}function Qe(n){let e,t='<span class="help-icon svelte-1tik46b">üí°</span> <h3 class="svelte-1tik46b">Start searching</h3> <p>Enter at least 2 characters to search for music</p>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-3pltwc"&&(e.innerHTML=t),this.h()},h(){d(e,"class","search-help svelte-1tik46b")},m(l,s){S(l,e,s)},p:X,d(l){l&&f(e)}}}function Be(n){let e,t='<span class="no-results-icon svelte-1tik46b">üéµ</span> <h3 class="svelte-1tik46b">No tracks found</h3> <p>Try a different search term</p>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-18nunwj"&&(e.innerHTML=t),this.h()},h(){d(e,"class","no-results svelte-1tik46b")},m(l,s){S(l,e,s)},p:X,d(l){l&&f(e)}}}function Ue(n){let e,t,l,s=n[2].length+"",r,i,a,o,p,b=n[2].length>0&&be(n),C=Z(n[2]),m=[];for(let u=0;u<C.length;u+=1)m[u]=ke(ve(n,C,u));return{c(){e=v("div"),t=v("h3"),l=F("Search Results ("),r=F(s),i=F(")"),a=H(),b&&b.c(),o=H(),p=v("div");for(let u=0;u<m.length;u+=1)m[u].c();this.h()},l(u){e=h(u,"DIV",{class:!0});var V=M(e);t=h(V,"H3",{class:!0});var k=M(t);l=j(k,"Search Results ("),r=j(k,s),i=j(k,")"),k.forEach(f),a=A(V),b&&b.l(V),V.forEach(f),o=A(u),p=h(u,"DIV",{class:!0});var D=M(p);for(let E=0;E<m.length;E+=1)m[E].l(D);D.forEach(f),this.h()},h(){d(t,"class","svelte-1tik46b"),d(e,"class","results-header svelte-1tik46b"),d(p,"class","tracks-grid svelte-1tik46b")},m(u,V){S(u,e,V),c(e,t),c(t,l),c(t,r),c(t,i),c(e,a),b&&b.m(e,null),S(u,o,V),S(u,p,V);for(let k=0;k<m.length;k+=1)m[k]&&m[k].m(p,null)},p(u,V){if(V[0]&4&&s!==(s=u[2].length+"")&&R(r,s),u[2].length>0?b?b.p(u,V):(b=be(u),b.c(),b.m(e,null)):b&&(b.d(1),b=null),V[0]&12292){C=Z(u[2]);let k;for(k=0;k<C.length;k+=1){const D=ve(u,C,k);m[k]?m[k].p(D,V):(m[k]=ke(D),m[k].c(),m[k].m(p,null))}for(;k<m.length;k+=1)m[k].d(1);m.length=C.length}},d(u){u&&(f(e),f(o),f(p)),b&&b.d(),ce(m,u)}}}function Oe(n){let e,t,l="‚ö†Ô∏è",s,r,i;return{c(){e=v("div"),t=v("span"),t.textContent=l,s=H(),r=v("p"),i=F(n[7]),this.h()},l(a){e=h(a,"DIV",{class:!0});var o=M(e);t=h(o,"SPAN",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-afr8fm"&&(t.textContent=l),s=A(o),r=h(o,"P",{});var p=M(r);i=j(p,n[7]),p.forEach(f),o.forEach(f),this.h()},h(){d(t,"class","error-icon svelte-1tik46b"),d(e,"class","error-message svelte-1tik46b")},m(a,o){S(a,e,o),c(e,t),c(e,s),c(e,r),c(r,i)},p(a,o){o[0]&128&&R(i,a[7])},d(a){a&&f(e)}}}function be(n){let e,t="‚ñ∂Ô∏è Play All",l,s;return{c(){e=v("button"),e.textContent=t,this.h()},l(r){e=h(r,"BUTTON",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-bbgrip"&&(e.textContent=t),this.h()},h(){d(e,"class","play-all-btn svelte-1tik46b")},m(r,i){S(r,e,i),l||(s=q(e,"click",n[21]),l=!0)},p:X,d(r){r&&f(e),l=!1,s()}}}function ke(n){let e,t,l,s=n[38].title+"",r,i,a,o=n[38].artist+"",p,b,C,m=n[38].album+"",u,V,k,D=re(n[38].duration)+"",E,w,y,g,N="‚ñ∂Ô∏è",I,T,U="‚ûï",O,L,$="üë§",Y,G,x;function ee(...Q){return n[22](n[38],...Q)}function te(...Q){return n[23](n[38],...Q)}function le(){return n[24](n[38])}return{c(){e=v("div"),t=v("div"),l=v("h4"),r=F(s),i=H(),a=v("p"),p=F(o),b=H(),C=v("p"),u=F(m),V=H(),k=v("span"),E=F(D),w=H(),y=v("div"),g=v("button"),g.textContent=N,I=H(),T=v("button"),T.textContent=U,O=H(),L=v("button"),L.textContent=$,Y=H(),this.h()},l(Q){e=h(Q,"DIV",{class:!0});var _=M(e);t=h(_,"DIV",{class:!0});var P=M(t);l=h(P,"H4",{class:!0});var K=M(l);r=j(K,s),K.forEach(f),i=A(P),a=h(P,"P",{class:!0});var se=M(a);p=j(se,o),se.forEach(f),b=A(P),C=h(P,"P",{class:!0});var ie=M(C);u=j(ie,m),ie.forEach(f),V=A(P),k=h(P,"SPAN",{class:!0});var ne=M(k);E=j(ne,D),ne.forEach(f),P.forEach(f),w=A(_),y=h(_,"DIV",{class:!0});var z=M(y);g=h(z,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),B(g)!=="svelte-6arqsf"&&(g.textContent=N),I=A(z),T=h(z,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),B(T)!=="svelte-15veoa5"&&(T.textContent=U),O=A(z),L=h(z,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),B(L)!=="svelte-13wgxc3"&&(L.textContent=$),z.forEach(f),Y=A(_),_.forEach(f),this.h()},h(){d(l,"class","track-title svelte-1tik46b"),d(a,"class","track-artist svelte-1tik46b"),d(C,"class","track-album svelte-1tik46b"),d(k,"class","track-duration svelte-1tik46b"),d(t,"class","track-info svelte-1tik46b"),d(g,"class","action-btn play-btn svelte-1tik46b"),d(g,"title","Play"),d(T,"class","action-btn queue-btn svelte-1tik46b"),d(T,"title","Add to Queue"),d(L,"class","action-btn artist-btn svelte-1tik46b"),d(L,"title","Monitor Artist"),d(y,"class","track-actions svelte-1tik46b"),d(e,"class","track-card svelte-1tik46b")},m(Q,_){S(Q,e,_),c(e,t),c(t,l),c(l,r),c(t,i),c(t,a),c(a,p),c(t,b),c(t,C),c(C,u),c(t,V),c(t,k),c(k,E),c(e,w),c(e,y),c(y,g),c(y,I),c(y,T),c(y,O),c(y,L),c(e,Y),G||(x=[q(g,"click",ee),q(T,"click",te),q(L,"click",le)],G=!0)},p(Q,_){n=Q,_[0]&4&&s!==(s=n[38].title+"")&&R(r,s),_[0]&4&&o!==(o=n[38].artist+"")&&R(p,o),_[0]&4&&m!==(m=n[38].album+"")&&R(u,m),_[0]&4&&D!==(D=re(n[38].duration)+"")&&R(E,D)},d(Q){Q&&f(e),G=!1,ae(x)}}}function me(n){let e;function t(r,i){return r[6]?Re:r[8]?Fe:je}let l=t(n),s=l(n);return{c(){e=v("div"),s.c(),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=M(e);s.l(i),i.forEach(f),this.h()},h(){d(e,"class","discovery-section")},m(r,i){S(r,e,i),s.m(e,null)},p(r,i){l===(l=t(r))&&s?s.p(r,i):(s.d(1),s=l(r),s&&(s.c(),s.m(e,null)))},d(r){r&&f(e),s.d()}}}function je(n){let e,t,l='<h3 class="svelte-1tik46b">Recommended for You</h3> <p class="section-subtitle svelte-1tik46b">Based on your listening history</p>',s;function r(o,p){return o[3].length>0?ze:qe}let i=r(n),a=i(n);return{c(){e=v("div"),t=v("div"),t.innerHTML=l,s=H(),a.c(),this.h()},l(o){e=h(o,"DIV",{class:!0});var p=M(e);t=h(p,"DIV",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-lmlva4"&&(t.innerHTML=l),s=A(p),a.l(p),p.forEach(f),this.h()},h(){d(t,"class","section-header svelte-1tik46b"),d(e,"class","discovery-content")},m(o,p){S(o,e,p),c(e,t),c(e,s),a.m(e,null)},p(o,p){i===(i=r(o))&&a?a.p(o,p):(a.d(1),a=i(o),a&&(a.c(),a.m(e,null)))},d(o){o&&f(e),a.d()}}}function Fe(n){let e,t,l="‚ö†Ô∏è",s,r,i,a,o,p="üîÑ Retry",b,C;return{c(){e=v("div"),t=v("span"),t.textContent=l,s=H(),r=v("p"),i=F(n[8]),a=H(),o=v("button"),o.textContent=p,this.h()},l(m){e=h(m,"DIV",{class:!0});var u=M(e);t=h(u,"SPAN",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-afr8fm"&&(t.textContent=l),s=A(u),r=h(u,"P",{});var V=M(r);i=j(V,n[8]),V.forEach(f),a=A(u),o=h(u,"BUTTON",{class:!0,"data-svelte-h":!0}),B(o)!=="svelte-5ofq1s"&&(o.textContent=p),u.forEach(f),this.h()},h(){d(t,"class","error-icon svelte-1tik46b"),d(o,"class","retry-btn svelte-1tik46b"),d(e,"class","error-message svelte-1tik46b")},m(m,u){S(m,e,u),c(e,t),c(e,s),c(e,r),c(r,i),c(e,a),c(e,o),b||(C=q(o,"click",n[11]),b=!0)},p(m,u){u[0]&256&&R(i,m[8])},d(m){m&&f(e),b=!1,C()}}}function Re(n){let e,t='<div class="loading-spinner large svelte-1tik46b"></div> <p>Loading discovery recommendations...</p>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-166mx4"&&(e.innerHTML=t),this.h()},h(){d(e,"class","loading-container svelte-1tik46b")},m(l,s){S(l,e,s)},p:X,d(l){l&&f(e)}}}function qe(n){let e,t='<span class="empty-icon svelte-1tik46b">üéß</span> <h3 class="svelte-1tik46b">No recommendations available</h3> <p>Start listening to music to get personalized recommendations</p>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-1p12kdo"&&(e.innerHTML=t),this.h()},h(){d(e,"class","empty-discovery svelte-1tik46b")},m(l,s){S(l,e,s)},p:X,d(l){l&&f(e)}}}function ze(n){let e,t=Z(n[3]),l=[];for(let s=0;s<t.length;s+=1)l[s]=ge(he(n,t,s));return{c(){e=v("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=h(s,"DIV",{class:!0});var r=M(e);for(let i=0;i<l.length;i+=1)l[i].l(r);r.forEach(f),this.h()},h(){d(e,"class","tracks-grid svelte-1tik46b")},m(s,r){S(s,e,r);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(s,r){if(r[0]&12296){t=Z(s[3]);let i;for(i=0;i<t.length;i+=1){const a=he(s,t,i);l[i]?l[i].p(a,r):(l[i]=ge(a),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(s){s&&f(e),ce(l,s)}}}function ge(n){let e,t,l,s=n[38].title+"",r,i,a,o=n[38].artist+"",p,b,C,m=n[38].album+"",u,V,k,D=re(n[38].duration)+"",E,w,y,g,N="‚ñ∂Ô∏è",I,T,U="‚ûï",O,L,$="üë§",Y,G,x;function ee(...Q){return n[25](n[38],...Q)}function te(...Q){return n[26](n[38],...Q)}function le(){return n[27](n[38])}return{c(){e=v("div"),t=v("div"),l=v("h4"),r=F(s),i=H(),a=v("p"),p=F(o),b=H(),C=v("p"),u=F(m),V=H(),k=v("span"),E=F(D),w=H(),y=v("div"),g=v("button"),g.textContent=N,I=H(),T=v("button"),T.textContent=U,O=H(),L=v("button"),L.textContent=$,Y=H(),this.h()},l(Q){e=h(Q,"DIV",{class:!0});var _=M(e);t=h(_,"DIV",{class:!0});var P=M(t);l=h(P,"H4",{class:!0});var K=M(l);r=j(K,s),K.forEach(f),i=A(P),a=h(P,"P",{class:!0});var se=M(a);p=j(se,o),se.forEach(f),b=A(P),C=h(P,"P",{class:!0});var ie=M(C);u=j(ie,m),ie.forEach(f),V=A(P),k=h(P,"SPAN",{class:!0});var ne=M(k);E=j(ne,D),ne.forEach(f),P.forEach(f),w=A(_),y=h(_,"DIV",{class:!0});var z=M(y);g=h(z,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),B(g)!=="svelte-15u7l5p"&&(g.textContent=N),I=A(z),T=h(z,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),B(T)!=="svelte-tlk9qd"&&(T.textContent=U),O=A(z),L=h(z,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),B(L)!=="svelte-1yuy41h"&&(L.textContent=$),z.forEach(f),Y=A(_),_.forEach(f),this.h()},h(){d(l,"class","track-title svelte-1tik46b"),d(a,"class","track-artist svelte-1tik46b"),d(C,"class","track-album svelte-1tik46b"),d(k,"class","track-duration svelte-1tik46b"),d(t,"class","track-info svelte-1tik46b"),d(g,"class","action-btn play-btn svelte-1tik46b"),d(g,"title","Play"),d(T,"class","action-btn queue-btn svelte-1tik46b"),d(T,"title","Add to Queue"),d(L,"class","action-btn artist-btn svelte-1tik46b"),d(L,"title","Monitor Artist"),d(y,"class","track-actions svelte-1tik46b"),d(e,"class","track-card discovery-card svelte-1tik46b")},m(Q,_){S(Q,e,_),c(e,t),c(t,l),c(l,r),c(t,i),c(t,a),c(a,p),c(t,b),c(t,C),c(C,u),c(t,V),c(t,k),c(k,E),c(e,w),c(e,y),c(y,g),c(y,I),c(y,T),c(y,O),c(y,L),c(e,Y),G||(x=[q(g,"click",ee),q(T,"click",te),q(L,"click",le)],G=!0)},p(Q,_){n=Q,_[0]&8&&s!==(s=n[38].title+"")&&R(r,s),_[0]&8&&o!==(o=n[38].artist+"")&&R(p,o),_[0]&8&&m!==(m=n[38].album+"")&&R(u,m),_[0]&8&&D!==(D=re(n[38].duration)+"")&&R(E,D)},d(Q){Q&&f(e),G=!1,ae(x)}}}function ye(n){let e,t,l='<h3 class="svelte-1tik46b">Trending Artists</h3> <p class="section-subtitle svelte-1tik46b">Popular artists in your library</p>',s;function r(o,p){return o[4].length>0?Ye:Je}let i=r(n),a=i(n);return{c(){e=v("div"),t=v("div"),t.innerHTML=l,s=H(),a.c(),this.h()},l(o){e=h(o,"DIV",{class:!0});var p=M(e);t=h(p,"DIV",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-32fr7g"&&(t.innerHTML=l),s=A(p),a.l(p),p.forEach(f),this.h()},h(){d(t,"class","section-header svelte-1tik46b"),d(e,"class","trending-section")},m(o,p){S(o,e,p),c(e,t),c(e,s),a.m(e,null)},p(o,p){i===(i=r(o))&&a?a.p(o,p):(a.d(1),a=i(o),a&&(a.c(),a.m(e,null)))},d(o){o&&f(e),a.d()}}}function Je(n){let e,t='<span class="empty-icon svelte-1tik46b">‚≠ê</span> <h3 class="svelte-1tik46b">No trending artists</h3> <p>Add some artists to monitoring to see trending content</p>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-1ar74vw"&&(e.innerHTML=t),this.h()},h(){d(e,"class","empty-trending svelte-1tik46b")},m(l,s){S(l,e,s)},p:X,d(l){l&&f(e)}}}function Ye(n){let e,t=Z(n[4]),l=[];for(let s=0;s<t.length;s+=1)l[s]=De(de(n,t,s));return{c(){e=v("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=h(s,"DIV",{class:!0});var r=M(e);for(let i=0;i<l.length;i+=1)l[i].l(r);r.forEach(f),this.h()},h(){d(e,"class","artists-grid svelte-1tik46b")},m(s,r){S(s,e,r);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(s,r){if(r[0]&16){t=Z(s[4]);let i;for(i=0;i<t.length;i+=1){const a=de(s,t,i);l[i]?l[i].p(a,r):(l[i]=De(a),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(s){s&&f(e),ce(l,s)}}}function Ge(n){let e;return{c(){e=F("Monitored artist")},l(t){e=j(t,"Monitored artist")},m(t,l){S(t,e,l)},p:X,d(t){t&&f(e)}}}function Ke(n){let e=(n[32].statistics.album_count||0)+"",t,l,s=(n[32].statistics.track_count||0)+"",r,i;return{c(){t=F(e),l=F(" albums ‚Ä¢ "),r=F(s),i=F(" tracks")},l(a){t=j(a,e),l=j(a," albums ‚Ä¢ "),r=j(a,s),i=j(a," tracks")},m(a,o){S(a,t,o),S(a,l,o),S(a,r,o),S(a,i,o)},p(a,o){o[0]&16&&e!==(e=(a[32].statistics.album_count||0)+"")&&R(t,e),o[0]&16&&s!==(s=(a[32].statistics.track_count||0)+"")&&R(r,s)},d(a){a&&(f(t),f(l),f(r),f(i))}}}function Te(n){let e,t=Z(n[32].genres.slice(0,3)),l=[];for(let s=0;s<t.length;s+=1)l[s]=Ce(fe(n,t,s));return{c(){e=v("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=h(s,"DIV",{class:!0});var r=M(e);for(let i=0;i<l.length;i+=1)l[i].l(r);r.forEach(f),this.h()},h(){d(e,"class","artist-genres svelte-1tik46b")},m(s,r){S(s,e,r);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(s,r){if(r[0]&16){t=Z(s[32].genres.slice(0,3));let i;for(i=0;i<t.length;i+=1){const a=fe(s,t,i);l[i]?l[i].p(a,r):(l[i]=Ce(a),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(s){s&&f(e),ce(l,s)}}}function Ce(n){let e,t=n[35]+"",l;return{c(){e=v("span"),l=F(t),this.h()},l(s){e=h(s,"SPAN",{class:!0});var r=M(e);l=j(r,t),r.forEach(f),this.h()},h(){d(e,"class","genre-tag svelte-1tik46b")},m(s,r){S(s,e,r),c(e,l)},p(s,r){r[0]&16&&t!==(t=s[35]+"")&&R(l,t)},d(s){s&&f(e)}}}function De(n){let e,t,l,s=(n[32].artist_name||n[32].artistName)+"",r,i,a,o,p,b,C,m="üë§ Monitor",u,V,k;function D(N,I){return N[32].statistics?Ke:Ge}let E=D(n),w=E(n),y=n[32].genres&&n[32].genres.length>0&&Te(n);function g(){return n[28](n[32])}return{c(){e=v("div"),t=v("div"),l=v("h4"),r=F(s),i=H(),a=v("p"),w.c(),o=H(),y&&y.c(),p=H(),b=v("div"),C=v("button"),C.textContent=m,u=H(),this.h()},l(N){e=h(N,"DIV",{class:!0});var I=M(e);t=h(I,"DIV",{class:!0});var T=M(t);l=h(T,"H4",{class:!0});var U=M(l);r=j(U,s),U.forEach(f),i=A(T),a=h(T,"P",{class:!0});var O=M(a);w.l(O),O.forEach(f),o=A(T),y&&y.l(T),T.forEach(f),p=A(I),b=h(I,"DIV",{class:!0});var L=M(b);C=h(L,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),B(C)!=="svelte-gsct3l"&&(C.textContent=m),L.forEach(f),u=A(I),I.forEach(f),this.h()},h(){d(l,"class","artist-name svelte-1tik46b"),d(a,"class","artist-stats svelte-1tik46b"),d(t,"class","artist-info"),d(C,"class","action-btn monitor-btn svelte-1tik46b"),d(C,"title","Monitor Artist"),d(b,"class","artist-actions"),d(e,"class","artist-card svelte-1tik46b")},m(N,I){S(N,e,I),c(e,t),c(t,l),c(l,r),c(t,i),c(t,a),w.m(a,null),c(t,o),y&&y.m(t,null),c(e,p),c(e,b),c(b,C),c(e,u),V||(k=q(C,"click",g),V=!0)},p(N,I){n=N,I[0]&16&&s!==(s=(n[32].artist_name||n[32].artistName)+"")&&R(r,s),E===(E=D(n))&&w?w.p(n,I):(w.d(1),w=E(n),w&&(w.c(),w.m(a,null))),n[32].genres&&n[32].genres.length>0?y?y.p(n,I):(y=Te(n),y.c(),y.m(t,null)):y&&(y.d(1),y=null)},d(N){N&&f(e),w.d(),y&&y.d(),V=!1,k()}}}function We(n){let e,t,l,s=`<h1 class="discovery-title svelte-1tik46b"><span class="title-icon svelte-1tik46b">üîç</span>
				Discover Music</h1> <p class="discovery-subtitle svelte-1tik46b">Find new tracks, explore artists, and expand your library</p>`,r,i,a,o=`<span class="tab-icon svelte-1tik46b">üîç</span>
				Search`,p,b,C=`<span class="tab-icon svelte-1tik46b">üéµ</span>
				Discover`,m,u,V=`<span class="tab-icon svelte-1tik46b">üî•</span>
				Trending`,k,D,E,w,y,g=n[9]==="search"&&_e(n),N=n[9]==="discover"&&me(n),I=n[9]==="trending"&&ye(n);return{c(){e=v("div"),t=v("div"),l=v("div"),l.innerHTML=s,r=H(),i=v("nav"),a=v("button"),a.innerHTML=o,p=H(),b=v("button"),b.innerHTML=C,m=H(),u=v("button"),u.innerHTML=V,k=H(),g&&g.c(),D=H(),N&&N.c(),E=H(),I&&I.c(),this.h()},l(T){e=h(T,"DIV",{class:!0});var U=M(e);t=h(U,"DIV",{class:!0});var O=M(t);l=h(O,"DIV",{class:!0,"data-svelte-h":!0}),B(l)!=="svelte-cmq3wk"&&(l.innerHTML=s),r=A(O),i=h(O,"NAV",{class:!0});var L=M(i);a=h(L,"BUTTON",{class:!0,"data-svelte-h":!0}),B(a)!=="svelte-k5j1jr"&&(a.innerHTML=o),p=A(L),b=h(L,"BUTTON",{class:!0,"data-svelte-h":!0}),B(b)!=="svelte-zvr121"&&(b.innerHTML=C),m=A(L),u=h(L,"BUTTON",{class:!0,"data-svelte-h":!0}),B(u)!=="svelte-t3ai28"&&(u.innerHTML=V),L.forEach(f),k=A(O),g&&g.l(O),D=A(O),N&&N.l(O),E=A(O),I&&I.l(O),O.forEach(f),U.forEach(f),this.h()},h(){d(l,"class","discovery-header svelte-1tik46b"),d(a,"class","tab-btn svelte-1tik46b"),J(a,"active",n[9]==="search"),d(b,"class","tab-btn svelte-1tik46b"),J(b,"active",n[9]==="discover"),d(u,"class","tab-btn svelte-1tik46b"),J(u,"active",n[9]==="trending"),d(i,"class","tab-nav svelte-1tik46b"),d(t,"class","container"),d(e,"class","music-discovery svelte-1tik46b"),J(e,"loaded",n[0])},m(T,U){S(T,e,U),c(e,t),c(t,l),c(t,r),c(t,i),c(i,a),c(i,p),c(i,b),c(i,m),c(i,u),c(t,k),g&&g.m(t,null),c(t,D),N&&N.m(t,null),c(t,E),I&&I.m(t,null),w||(y=[q(a,"click",n[17]),q(b,"click",n[18]),q(u,"click",n[19])],w=!0)},p(T,U){U[0]&512&&J(a,"active",T[9]==="search"),U[0]&512&&J(b,"active",T[9]==="discover"),U[0]&512&&J(u,"active",T[9]==="trending"),T[9]==="search"?g?g.p(T,U):(g=_e(T),g.c(),g.m(t,D)):g&&(g.d(1),g=null),T[9]==="discover"?N?N.p(T,U):(N=me(T),N.c(),N.m(t,E)):N&&(N.d(1),N=null),T[9]==="trending"?I?I.p(T,U):(I=ye(T),I.c(),I.m(t,null)):I&&(I.d(1),I=null),U[0]&1&&J(e,"loaded",T[0])},i:X,o:X,d(T){T&&f(e),g&&g.d(),N&&N.d(),I&&I.d(),w=!1,ae(y)}}}async function Xe(n){try{const t=await(await fetch(`/api/v1/lidarr/search/${encodeURIComponent(n)}`)).json();return t.success&&t.results.length>0?t.results[0]:null}catch(e){return console.error("Artist search error:",e),null}}async function Ze(n){try{const t=await(await fetch("/api/v1/lidarr/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({foreignArtistId:n.foreignArtistId,artistName:n.artistName,overview:n.overview,disambiguation:n.disambiguation,genres:n.genres,qualityProfileId:1,metadataProfileId:1,rootFolderPath:"/music"})})).json();t.success?alert(`Successfully added "${n.artistName}" to monitoring!`):alert(`Failed to add artist: ${t.error}`)}catch(e){console.error("Add artist error:",e),alert("Network error occurred while adding artist")}}function re(n){if(!n)return"0:00";const e=Math.floor(n/60),t=n%60;return`${e}:${t.toString().padStart(2,"0")}`}async function oe(n){const e=await Xe(n);e?await Ze(e):alert(`Artist "${n}" not found in database`)}function $e(n,e,t){let{musicPlayer:l=null}=e,s=!1,r="",i=[],a=[],o=[],p=!1,b=!1,C=null,m=null,u="search",V=null,k="";Ie(()=>{t(0,s=!0),w()});async function D(_){if(!_||_.trim().length<2){t(2,i=[]);return}if(_!==k){k=_,t(5,p=!0),t(7,C=null);try{const K=await(await fetch(`/api/v1/tracks/search/${encodeURIComponent(_)}`)).json();K.success?t(2,i=K.tracks||[]):(t(7,C=K.error||"Search failed"),t(2,i=[]))}catch(P){console.error("Search error:",P),t(7,C="Network error occurred"),t(2,i=[])}finally{t(5,p=!1)}}}function E(){V&&clearTimeout(V),V=setTimeout(()=>{D(r)},300)}async function w(){t(6,b=!0),t(8,m=null);try{const P=await(await fetch("/api/v1/discover")).json();P.success?(t(3,a=P.discovery.tracks||[]),t(4,o=P.discovery.trending_artists||[])):t(8,m=P.error||"Failed to load discovery data")}catch(_){console.error("Discovery error:",_),t(8,m="Network error occurred")}finally{t(6,b=!1)}}function y(_,P){_.preventDefault(),_.stopPropagation(),l&&l.playTrackFromParent?(console.log("Playing track from discovery:",P.title),l.playTrackFromParent(P)):console.warn("Music player not available for playTrack")}function g(_,P){_.preventDefault(),_.stopPropagation(),console.log("üìù Discovery: addToQueue called with:",P.title),l&&l.addTrackToQueue?(console.log("Adding track to queue from discovery:",P.title),l.addTrackToQueue(P)):console.warn("Music player not available for addToQueue")}function N(_){l&&l.setQueue&&_.length>0?(console.log("Playing all tracks from discovery, count:",_.length),l.setQueue(_,0)):l?_.length===0&&console.warn("No tracks to play"):console.warn("Music player not available for playAllTracks")}function I(_){t(9,u=_),_==="discover"&&a.length===0&&w()}const T=()=>I("search"),U=()=>I("discover"),O=()=>I("trending");function L(){r=this.value,t(1,r)}const $=()=>N(i),Y=(_,P)=>y(P,_),G=(_,P)=>g(P,_),x=_=>oe(_.artist),ee=(_,P)=>y(P,_),te=(_,P)=>g(P,_),le=_=>oe(_.artist),Q=_=>oe(_.artist_name||_.artistName);return n.$$set=_=>{"musicPlayer"in _&&t(16,l=_.musicPlayer)},[s,r,i,a,o,p,b,C,m,u,E,w,y,g,N,I,l,T,U,O,L,$,Y,G,x,ee,te,le,Q]}class xe extends Me{constructor(e){super(),Pe(this,e,$e,We,Ee,{musicPlayer:16},null,[-1,-1])}}function et(n){let e,t,l,s,r;return s=new xe({props:{musicPlayer:n[1]}}),{c(){e=v("meta"),t=H(),l=v("div"),Se(s.$$.fragment),this.h()},l(i){const a=He("svelte-144bg5m",document.head);e=h(a,"META",{name:!0,content:!0}),a.forEach(f),t=A(i),l=h(i,"DIV",{class:!0});var o=M(l);Le(s.$$.fragment,o),o.forEach(f),this.h()},h(){document.title="Discover Music - StepheyBot Music",d(e,"name","description"),d(e,"content","Discover new music, search tracks, and explore trending artists with StepheyBot Music's AI-powered recommendations."),d(l,"class","discover-page svelte-1ueob5g"),J(l,"loaded",n[0])},m(i,a){c(document.head,e),S(i,t,a),S(i,l,a),Ae(s,l,null),r=!0},p(i,[a]){const o={};a&2&&(o.musicPlayer=i[1]),s.$set(o),(!r||a&1)&&J(l,"loaded",i[0])},i(i){r||(Ne(s.$$.fragment,i),r=!0)},o(i){we(s.$$.fragment,i),r=!1},d(i){i&&(f(t),f(l)),f(e),Ve(s)}}}function tt(n,e,t){let l=!1,s=null;return Ie(()=>{t(0,l=!0)}),t(1,s={playTrackFromParent:r=>{W&&W.playTrack?W.playTrack(r):console.error("Music player not available for playTrack")},addTrackToQueue:r=>{W&&W.addToQueue?W.addToQueue(r):console.error("Music player not available for addToQueue")},setQueue:(r,i=0)=>{W&&W.setQueue?W.setQueue(r,i):console.error("Music player not available for setQueue")}}),[l,s]}class rt extends Me{constructor(e){super(),Pe(this,e,tt,et,Ee,{})}}export{rt as component};
