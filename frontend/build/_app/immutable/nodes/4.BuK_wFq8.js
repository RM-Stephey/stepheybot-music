import{s as ut,n as Ye,o as ft,a as ht}from"../chunks/DP8VM1Me.js";import{S as _t,i as pt,d as u,k as at,a as K,b as t,l as n,m as bt,g,c as r,e as p,n as T,j as w,h as d,s as y,o as $e,f as E,t as k,p as gt,q as Pe}from"../chunks/DOSGr0tm.js";import{e as ot}from"../chunks/D6YF6ztN.js";function nt(s,e,l){const o=s.slice();return o[13]=e[l],o}function wt(s){let e,l,o,v="‚¨áÔ∏è Active Downloads",i,a=s[1]&&rt(s);function _(h,b){return h[2].length===0?Ct:xt}let f=_(s),c=f(s);return{c(){a&&a.c(),e=w(),l=d("div"),o=d("h2"),o.textContent=v,i=w(),c.c(),this.h()},l(h){a&&a.l(h),e=g(h),l=r(h,"DIV",{class:!0});var b=p(l);o=r(b,"H2",{class:!0,"data-svelte-h":!0}),T(o)!=="svelte-1qj6bbd"&&(o.textContent=v),i=g(b),c.l(b),b.forEach(u),this.h()},h(){n(o,"class","svelte-gbx47t"),n(l,"class","active-section svelte-gbx47t")},m(h,b){a&&a.m(h,b),K(h,e,b),K(h,l,b),t(l,o),t(l,i),c.m(l,null)},p(h,b){h[1]?a?a.p(h,b):(a=rt(h),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),f===(f=_(h))&&c?c.p(h,b):(c.d(1),c=f(h),c&&(c.c(),c.m(l,null)))},d(h){h&&(u(e),u(l)),a&&a.d(h),c.d()}}}function mt(s){let e,l,o="‚ö†Ô∏è Error",v,i,a,_,f,c="üîÑ Retry",h,b;return{c(){e=d("div"),l=d("h3"),l.textContent=o,v=w(),i=d("p"),a=k(s[4]),_=w(),f=d("button"),f.textContent=c,this.h()},l(P){e=r(P,"DIV",{class:!0});var C=p(e);l=r(C,"H3",{"data-svelte-h":!0}),T(l)!=="svelte-jw9p7b"&&(l.textContent=o),v=g(C),i=r(C,"P",{});var M=p(i);a=E(M,s[4]),M.forEach(u),_=g(C),f=r(C,"BUTTON",{class:!0,"data-svelte-h":!0}),T(f)!=="svelte-43ptod"&&(f.textContent=c),C.forEach(u),this.h()},h(){n(f,"class","retry-btn svelte-gbx47t"),n(e,"class","error svelte-gbx47t")},m(P,C){K(P,e,C),t(e,l),t(e,v),t(e,i),t(i,a),t(e,_),t(e,f),h||(b=$e(f,"click",s[5]),h=!0)},p(P,C){C&16&&y(a,P[4])},d(P){P&&u(e),h=!1,b()}}}function Dt(s){let e,l='<div class="spinner svelte-gbx47t"></div> <p>Loading download information...</p>';return{c(){e=d("div"),e.innerHTML=l,this.h()},l(o){e=r(o,"DIV",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-1puz06r"&&(e.innerHTML=l),this.h()},h(){n(e,"class","loading svelte-gbx47t")},m(o,v){K(o,e,v)},p:Ye,d(o){o&&u(e)}}}function rt(s){let e,l,o="üìä Download Statistics",v,i,a,_,f=s[1].total_downloads+"",c,h,b,P="Total Downloads",C,M,Q,m=s[1].active_downloads+"",D,I,N,Ne="Active",xe,A,U,q=s[1].completed_downloads+"",he,Z,R,Ce="Completed",Ee,Y,S,O=s[1].queued_downloads+"",$,Ve,ee,te="Queued",ie,G,ae,se=s[1].failed_downloads+"",ce,ke,H,oe="Failed",Se,J,z,ve=fe(s[1].total_downloaded_bytes)+"",ne,_e,le,pe="Downloaded";return{c(){e=d("div"),l=d("h2"),l.textContent=o,v=w(),i=d("div"),a=d("div"),_=d("div"),c=k(f),h=w(),b=d("div"),b.textContent=P,C=w(),M=d("div"),Q=d("div"),D=k(m),I=w(),N=d("div"),N.textContent=Ne,xe=w(),A=d("div"),U=d("div"),he=k(q),Z=w(),R=d("div"),R.textContent=Ce,Ee=w(),Y=d("div"),S=d("div"),$=k(O),Ve=w(),ee=d("div"),ee.textContent=te,ie=w(),G=d("div"),ae=d("div"),ce=k(se),ke=w(),H=d("div"),H.textContent=oe,Se=w(),J=d("div"),z=d("div"),ne=k(ve),_e=w(),le=d("div"),le.textContent=pe,this.h()},l(j){e=r(j,"DIV",{class:!0});var B=p(e);l=r(B,"H2",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-txo4sy"&&(l.textContent=o),v=g(B),i=r(B,"DIV",{class:!0});var V=p(i);a=r(V,"DIV",{class:!0});var W=p(a);_=r(W,"DIV",{class:!0});var Ae=p(_);c=E(Ae,f),Ae.forEach(u),h=g(W),b=r(W,"DIV",{class:!0,"data-svelte-h":!0}),T(b)!=="svelte-1js73dh"&&(b.textContent=P),W.forEach(u),C=g(V),M=r(V,"DIV",{class:!0});var be=p(M);Q=r(be,"DIV",{class:!0});var X=p(Q);D=E(X,m),X.forEach(u),I=g(be),N=r(be,"DIV",{class:!0,"data-svelte-h":!0}),T(N)!=="svelte-d45dqs"&&(N.textContent=Ne),be.forEach(u),xe=g(V),A=r(V,"DIV",{class:!0});var re=p(A);U=r(re,"DIV",{class:!0});var Ie=p(U);he=E(Ie,q),Ie.forEach(u),Z=g(re),R=r(re,"DIV",{class:!0,"data-svelte-h":!0}),T(R)!=="svelte-lhahf3"&&(R.textContent=Ce),re.forEach(u),Ee=g(V),Y=r(V,"DIV",{class:!0});var ge=p(Y);S=r(ge,"DIV",{class:!0});var we=p(S);$=E(we,O),we.forEach(u),Ve=g(ge),ee=r(ge,"DIV",{class:!0,"data-svelte-h":!0}),T(ee)!=="svelte-17mrmzn"&&(ee.textContent=te),ge.forEach(u),ie=g(V),G=r(V,"DIV",{class:!0});var ue=p(G);ae=r(ue,"DIV",{class:!0});var Te=p(ae);ce=E(Te,se),Te.forEach(u),ke=g(ue),H=r(ue,"DIV",{class:!0,"data-svelte-h":!0}),T(H)!=="svelte-m777jb"&&(H.textContent=oe),ue.forEach(u),Se=g(V),J=r(V,"DIV",{class:!0});var me=p(J);z=r(me,"DIV",{class:!0});var Me=p(z);ne=E(Me,ve),Me.forEach(u),_e=g(me),le=r(me,"DIV",{class:!0,"data-svelte-h":!0}),T(le)!=="svelte-1hi6agb"&&(le.textContent=pe),me.forEach(u),V.forEach(u),B.forEach(u),this.h()},h(){n(l,"class","svelte-gbx47t"),n(_,"class","stat-value svelte-gbx47t"),n(b,"class","stat-label svelte-gbx47t"),n(a,"class","stat-card svelte-gbx47t"),n(Q,"class","stat-value svelte-gbx47t"),n(N,"class","stat-label svelte-gbx47t"),n(M,"class","stat-card svelte-gbx47t"),n(U,"class","stat-value svelte-gbx47t"),n(R,"class","stat-label svelte-gbx47t"),n(A,"class","stat-card svelte-gbx47t"),n(S,"class","stat-value svelte-gbx47t"),n(ee,"class","stat-label svelte-gbx47t"),n(Y,"class","stat-card svelte-gbx47t"),n(ae,"class","stat-value svelte-gbx47t"),n(H,"class","stat-label svelte-gbx47t"),n(G,"class","stat-card svelte-gbx47t"),n(z,"class","stat-value svelte-gbx47t"),n(le,"class","stat-label svelte-gbx47t"),n(J,"class","stat-card svelte-gbx47t"),n(i,"class","stats-grid svelte-gbx47t"),n(e,"class","stats-section svelte-gbx47t")},m(j,B){K(j,e,B),t(e,l),t(e,v),t(e,i),t(i,a),t(a,_),t(_,c),t(a,h),t(a,b),t(i,C),t(i,M),t(M,Q),t(Q,D),t(M,I),t(M,N),t(i,xe),t(i,A),t(A,U),t(U,he),t(A,Z),t(A,R),t(i,Ee),t(i,Y),t(Y,S),t(S,$),t(Y,Ve),t(Y,ee),t(i,ie),t(i,G),t(G,ae),t(ae,ce),t(G,ke),t(G,H),t(i,Se),t(i,J),t(J,z),t(z,ne),t(J,_e),t(J,le)},p(j,B){B&2&&f!==(f=j[1].total_downloads+"")&&y(c,f),B&2&&m!==(m=j[1].active_downloads+"")&&y(D,m),B&2&&q!==(q=j[1].completed_downloads+"")&&y(he,q),B&2&&O!==(O=j[1].queued_downloads+"")&&y($,O),B&2&&se!==(se=j[1].failed_downloads+"")&&y(ce,se),B&2&&ve!==(ve=fe(j[1].total_downloaded_bytes)+"")&&y(ne,ve)},d(j){j&&u(e)}}}function xt(s){let e,l=ot(s[2]),o=[];for(let v=0;v<l.length;v+=1)o[v]=it(nt(s,l,v));return{c(){e=d("div");for(let v=0;v<o.length;v+=1)o[v].c();this.h()},l(v){e=r(v,"DIV",{class:!0});var i=p(e);for(let a=0;a<o.length;a+=1)o[a].l(i);i.forEach(u),this.h()},h(){n(e,"class","downloads-list svelte-gbx47t")},m(v,i){K(v,e,i);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null)},p(v,i){if(i&452){l=ot(v[2]);let a;for(a=0;a<l.length;a+=1){const _=nt(v,l,a);o[a]?o[a].p(_,i):(o[a]=it(_),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=l.length}},d(v){v&&u(e),gt(o,v)}}}function Ct(s){let e,l='<div class="no-downloads-icon svelte-gbx47t">üì≠</div> <h3 class="svelte-gbx47t">No Active Downloads</h3> <p class="svelte-gbx47t">Your downloads will appear here when you start downloading music.</p> <a href="/search" class="search-link svelte-gbx47t">üîç Search for Music</a>';return{c(){e=d("div"),e.innerHTML=l,this.h()},l(o){e=r(o,"DIV",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-134jgms"&&(e.innerHTML=l),this.h()},h(){n(e,"class","no-downloads svelte-gbx47t")},m(o,v){K(o,e,v)},p:Ye,d(o){o&&u(e)}}}function Et(s){let e,l="‚ñ∂Ô∏è",o,v;function i(){return s[10](s[13])}return{c(){e=d("button"),e.textContent=l,this.h()},l(a){e=r(a,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),T(e)!=="svelte-1h2uca6"&&(e.textContent=l),this.h()},h(){n(e,"class","control-btn resume-btn svelte-gbx47t"),n(e,"title","Resume Download")},m(a,_){K(a,e,_),o||(v=$e(e,"click",i),o=!0)},p(a,_){s=a},d(a){a&&u(e),o=!1,v()}}}function kt(s){let e,l="‚è∏Ô∏è",o,v;function i(){return s[9](s[13])}return{c(){e=d("button"),e.textContent=l,this.h()},l(a){e=r(a,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),T(e)!=="svelte-1er8gw7"&&(e.textContent=l),this.h()},h(){n(e,"class","control-btn pause-btn svelte-gbx47t"),n(e,"title","Pause Download")},m(a,_){K(a,e,_),o||(v=$e(e,"click",i),o=!0)},p(a,_){s=a},d(a){a&&u(e),o=!1,v()}}}function dt(s){let e,l,o="ETA:",v,i,a=ct(s[13].eta)+"",_;return{c(){e=d("div"),l=d("span"),l.textContent=o,v=w(),i=d("span"),_=k(a),this.h()},l(f){e=r(f,"DIV",{class:!0});var c=p(e);l=r(c,"SPAN",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-1hfbtis"&&(l.textContent=o),v=g(c),i=r(c,"SPAN",{class:!0});var h=p(i);_=E(h,a),h.forEach(u),c.forEach(u),this.h()},h(){n(l,"class","svelte-gbx47t"),n(i,"class","svelte-gbx47t"),n(e,"class","detail-row svelte-gbx47t")},m(f,c){K(f,e,c),t(e,l),t(e,v),t(e,i),t(i,_)},p(f,c){c&4&&a!==(a=ct(f[13].eta)+"")&&y(_,a)},d(f){f&&u(e)}}}function it(s){let e,l,o,v,i=s[13].name+"",a,_,f,c,h=fe(s[13].size)+"",b,P,C,M=s[13].status.toUpperCase()+"",Q,m,D,I,N,Ne="‚ùå",xe,A,U,q,he,Z,R=Math.round(s[13].progress*100)+"",Ce,Ee,Y,S,O,$,Ve="Downloaded:",ee,te,ie=fe(s[13].downloaded)+"",G,ae,se=fe(s[13].size)+"",ce,ke,H,oe,Se="Speed:",J,z,ve,ne=Ke(s[13].download_speed)+"",_e,le,pe=Ke(s[13].upload_speed)+"",j,B,V,W,Ae="Peers:",be,X,re=s[13].seeds+"",Ie,ge,we=s[13].peers+"",ue,Te,me,Me,Je,Xe;function Ze(de,x){if(de[13].status==="downloading")return kt;if(de[13].status==="paused")return Et}let ye=Ze(s),F=ye&&ye(s);function vt(){return s[11](s[13])}let L=s[13].eta>0&&dt(s);return{c(){e=d("div"),l=d("div"),o=d("div"),v=d("h4"),a=k(i),_=w(),f=d("div"),c=d("span"),b=k(h),P=w(),C=d("span"),Q=k(M),m=w(),D=d("div"),F&&F.c(),I=w(),N=d("button"),N.textContent=Ne,xe=w(),A=d("div"),U=d("div"),q=d("div"),he=w(),Z=d("div"),Ce=k(R),Ee=k("%"),Y=w(),S=d("div"),O=d("div"),$=d("span"),$.textContent=Ve,ee=w(),te=d("span"),G=k(ie),ae=k(" of "),ce=k(se),ke=w(),H=d("div"),oe=d("span"),oe.textContent=Se,J=w(),z=d("span"),ve=k("‚Üì "),_e=k(ne),le=k(" ‚Üë "),j=k(pe),B=w(),V=d("div"),W=d("span"),W.textContent=Ae,be=w(),X=d("span"),Ie=k(re),ge=k(" seeds, "),ue=k(we),Te=k(" peers"),me=w(),L&&L.c(),Me=w(),this.h()},l(de){e=r(de,"DIV",{class:!0});var x=p(e);l=r(x,"DIV",{class:!0});var He=p(l);o=r(He,"DIV",{class:!0});var ze=p(o);v=r(ze,"H4",{class:!0});var et=p(v);a=E(et,i),et.forEach(u),_=g(ze),f=r(ze,"DIV",{class:!0});var Fe=p(f);c=r(Fe,"SPAN",{class:!0});var tt=p(c);b=E(tt,h),tt.forEach(u),P=g(Fe),C=r(Fe,"SPAN",{class:!0,style:!0});var st=p(C);Q=E(st,M),st.forEach(u),Fe.forEach(u),ze.forEach(u),m=g(He),D=r(He,"DIV",{class:!0});var Le=p(D);F&&F.l(Le),I=g(Le),N=r(Le,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),T(N)!=="svelte-12u4qzu"&&(N.textContent=Ne),Le.forEach(u),He.forEach(u),xe=g(x),A=r(x,"DIV",{class:!0});var qe=p(A);U=r(qe,"DIV",{class:!0});var lt=p(U);q=r(lt,"DIV",{class:!0,style:!0}),p(q).forEach(u),lt.forEach(u),he=g(qe),Z=r(qe,"DIV",{class:!0});var We=p(Z);Ce=E(We,R),Ee=E(We,"%"),We.forEach(u),qe.forEach(u),Y=g(x),S=r(x,"DIV",{class:!0});var De=p(S);O=r(De,"DIV",{class:!0});var Oe=p(O);$=r(Oe,"SPAN",{class:!0,"data-svelte-h":!0}),T($)!=="svelte-1fp0x7x"&&($.textContent=Ve),ee=g(Oe),te=r(Oe,"SPAN",{class:!0});var Ue=p(te);G=E(Ue,ie),ae=E(Ue," of "),ce=E(Ue,se),Ue.forEach(u),Oe.forEach(u),ke=g(De),H=r(De,"DIV",{class:!0});var Re=p(H);oe=r(Re,"SPAN",{class:!0,"data-svelte-h":!0}),T(oe)!=="svelte-nsn8m9"&&(oe.textContent=Se),J=g(Re),z=r(Re,"SPAN",{class:!0});var je=p(z);ve=E(je,"‚Üì "),_e=E(je,ne),le=E(je," ‚Üë "),j=E(je,pe),je.forEach(u),Re.forEach(u),B=g(De),V=r(De,"DIV",{class:!0});var Ge=p(V);W=r(Ge,"SPAN",{class:!0,"data-svelte-h":!0}),T(W)!=="svelte-tnvw0n"&&(W.textContent=Ae),be=g(Ge),X=r(Ge,"SPAN",{class:!0});var Be=p(X);Ie=E(Be,re),ge=E(Be," seeds, "),ue=E(Be,we),Te=E(Be," peers"),Be.forEach(u),Ge.forEach(u),me=g(De),L&&L.l(De),De.forEach(u),Me=g(x),x.forEach(u),this.h()},h(){n(v,"class","svelte-gbx47t"),n(c,"class","download-size svelte-gbx47t"),n(C,"class","download-status svelte-gbx47t"),Pe(C,"color",Qe(s[13].status)),n(f,"class","download-meta svelte-gbx47t"),n(o,"class","download-name svelte-gbx47t"),n(N,"class","control-btn cancel-btn svelte-gbx47t"),n(N,"title","Cancel Download"),n(D,"class","download-controls svelte-gbx47t"),n(l,"class","download-header svelte-gbx47t"),n(q,"class","progress-fill svelte-gbx47t"),Pe(q,"width",s[13].progress*100+"%"),Pe(q,"background-color",Qe(s[13].status)),n(U,"class","progress-bar svelte-gbx47t"),n(Z,"class","progress-text svelte-gbx47t"),n(A,"class","progress-section svelte-gbx47t"),n($,"class","svelte-gbx47t"),n(te,"class","svelte-gbx47t"),n(O,"class","detail-row svelte-gbx47t"),n(oe,"class","svelte-gbx47t"),n(z,"class","svelte-gbx47t"),n(H,"class","detail-row svelte-gbx47t"),n(W,"class","svelte-gbx47t"),n(X,"class","svelte-gbx47t"),n(V,"class","detail-row svelte-gbx47t"),n(S,"class","download-details svelte-gbx47t"),n(e,"class","download-item svelte-gbx47t")},m(de,x){K(de,e,x),t(e,l),t(l,o),t(o,v),t(v,a),t(o,_),t(o,f),t(f,c),t(c,b),t(f,P),t(f,C),t(C,Q),t(l,m),t(l,D),F&&F.m(D,null),t(D,I),t(D,N),t(e,xe),t(e,A),t(A,U),t(U,q),t(A,he),t(A,Z),t(Z,Ce),t(Z,Ee),t(e,Y),t(e,S),t(S,O),t(O,$),t(O,ee),t(O,te),t(te,G),t(te,ae),t(te,ce),t(S,ke),t(S,H),t(H,oe),t(H,J),t(H,z),t(z,ve),t(z,_e),t(z,le),t(z,j),t(S,B),t(S,V),t(V,W),t(V,be),t(V,X),t(X,Ie),t(X,ge),t(X,ue),t(X,Te),t(S,me),L&&L.m(S,null),t(e,Me),Je||(Xe=$e(N,"click",vt),Je=!0)},p(de,x){s=de,x&4&&i!==(i=s[13].name+"")&&y(a,i),x&4&&h!==(h=fe(s[13].size)+"")&&y(b,h),x&4&&M!==(M=s[13].status.toUpperCase()+"")&&y(Q,M),x&4&&Pe(C,"color",Qe(s[13].status)),ye===(ye=Ze(s))&&F?F.p(s,x):(F&&F.d(1),F=ye&&ye(s),F&&(F.c(),F.m(D,I))),x&4&&Pe(q,"width",s[13].progress*100+"%"),x&4&&Pe(q,"background-color",Qe(s[13].status)),x&4&&R!==(R=Math.round(s[13].progress*100)+"")&&y(Ce,R),x&4&&ie!==(ie=fe(s[13].downloaded)+"")&&y(G,ie),x&4&&se!==(se=fe(s[13].size)+"")&&y(ce,se),x&4&&ne!==(ne=Ke(s[13].download_speed)+"")&&y(_e,ne),x&4&&pe!==(pe=Ke(s[13].upload_speed)+"")&&y(j,pe),x&4&&re!==(re=s[13].seeds+"")&&y(Ie,re),x&4&&we!==(we=s[13].peers+"")&&y(ue,we),s[13].eta>0?L?L.p(s,x):(L=dt(s),L.c(),L.m(S,null)):L&&(L.d(1),L=null)},d(de){de&&u(e),F&&F.d(),L&&L.d(),Je=!1,Xe()}}}function It(s){let e,l,o,v='<h1 class="svelte-gbx47t">üéµ Downloads</h1> <p class="svelte-gbx47t">Monitor and manage your music downloads</p>',i;function a(c,h){return c[3]?Dt:c[4]?mt:wt}let _=a(s),f=_(s);return{c(){e=w(),l=d("div"),o=d("div"),o.innerHTML=v,i=w(),f.c(),this.h()},l(c){bt("svelte-jsreu1",document.head).forEach(u),e=g(c),l=r(c,"DIV",{class:!0});var b=p(l);o=r(b,"DIV",{class:!0,"data-svelte-h":!0}),T(o)!=="svelte-1hnc9e5"&&(o.innerHTML=v),i=g(b),f.l(b),b.forEach(u),this.h()},h(){document.title="Downloads - StepheyBot Music",n(o,"class","page-header svelte-gbx47t"),n(l,"class","downloads-page svelte-gbx47t"),at(l,"loaded",s[0])},m(c,h){K(c,e,h),K(c,l,h),t(l,o),t(l,i),f.m(l,null)},p(c,[h]){_===(_=a(c))&&f?f.p(c,h):(f.d(1),f=_(c),f&&(f.c(),f.m(l,null))),h&1&&at(l,"loaded",c[0])},i:Ye,o:Ye,d(c){c&&(u(e),u(l)),f.d()}}}function fe(s){if(s===0)return"0 B";const e=1024,l=["B","KB","MB","GB","TB"],o=Math.floor(Math.log(s)/Math.log(e));return parseFloat((s/Math.pow(e,o)).toFixed(2))+" "+l[o]}function Ke(s){return fe(s)+"/s"}function ct(s){return s<0||!isFinite(s)?"Unknown":s<60?`${Math.round(s)}s`:s<3600?`${Math.round(s/60)}m`:`${Math.round(s/3600)}h`}function Qe(s){switch(s.toLowerCase()){case"downloading":return"#ffa500";case"seeding":return"#32cd32";case"paused":return"#ffd700";case"completed":return"#32cd32";case"error":return"#dc143c";default:return"#00bfff"}}function Vt(s,e,l){let o=!1,v=null,i=[],a=!0,_=null,f=null;ft(()=>{l(0,o=!0),c(),f=setInterval(c,3e3)}),ht(()=>{f&&clearInterval(f)});async function c(){try{const[m,D]=await Promise.all([fetch("/api/v1/download/stats"),fetch("/api/v1/download/active")]);if(m.ok){const I=await m.json();I.success&&l(1,v=I.stats)}if(D.ok){const I=await D.json();I.success&&l(2,i=I.downloads||[])}l(4,_=null)}catch(m){console.error("Failed to load download data:",m),l(4,_="Failed to load download information")}finally{l(3,a=!1)}}async function h(m){try{const I=await(await fetch(`/api/v1/download/pause/${m.torrent_hash}`,{method:"POST"})).json();I.success?(console.log("Download paused successfully"),await c()):console.error("Failed to pause download:",I.error)}catch(D){console.error("Error pausing download:",D)}}async function b(m){try{const I=await(await fetch(`/api/v1/download/resume/${m.torrent_hash}`,{method:"POST"})).json();I.success?(console.log("Download resumed successfully"),await c()):console.error("Failed to resume download:",I.error)}catch(D){console.error("Error resuming download:",D)}}async function P(m){if(confirm(`Are you sure you want to cancel the download of "${m.name}"?`))try{const I=await(await fetch(`/api/v1/download/cancel/${m.torrent_hash}`,{method:"POST"})).json();I.success?(console.log("Download cancelled successfully"),await c()):console.error("Failed to cancel download:",I.error)}catch(D){console.error("Error cancelling download:",D)}}return[o,v,i,a,_,c,h,b,P,m=>h(m),m=>b(m),m=>P(m)]}class yt extends _t{constructor(e){super(),pt(this,e,Vt,It,ut,{})}}export{yt as component};
