import{s as we,n as Z,r as ae,o as Ae}from"../chunks/Y-CuHk7n.js";import{S as Qe,i as Se,d as v,k as Y,a as H,b as c,l as z,m as h,c as p,e as S,o as F,g as N,h as m,j as V,D as ue,s as W,f as U,t as R,p as ne,z as Ce,r as Me,u as Ie,B as Ne,n as Ve,C as Oe,A as He}from"../chunks/DKhF1pO8.js";import{e as x,m as P,a as de}from"../chunks/BmkXckfa.js";function fe(i,e,l){const t=i.slice();return t[32]=e[l],t}function he(i,e,l){const t=i.slice();return t[35]=e[l],t}function ve(i,e,l){const t=i.slice();return t[38]=e[l],t}function pe(i,e,l){const t=i.slice();return t[38]=e[l],t}function me(i){let e,l,t,s,r,o,a="üîç",n,_,b,k,T,d=i[5]&&_e();function C(A,M){if(A[7])return Be;if(A[2].length>0)return je;if(A[1].length>=2&&!A[5])return Fe;if(A[1].length<2)return Le}let y=C(i),w=y&&y(i);return{c(){e=m("div"),l=m("div"),t=m("div"),s=m("input"),r=V(),o=m("div"),o.textContent=a,n=V(),d&&d.c(),_=V(),b=m("div"),w&&w.c(),this.h()},l(A){e=p(A,"DIV",{class:!0});var M=S(e);l=p(M,"DIV",{class:!0});var E=S(l);t=p(E,"DIV",{class:!0});var g=S(t);s=p(g,"INPUT",{type:!0,placeholder:!0,class:!0}),r=N(g),o=p(g,"DIV",{class:!0,"data-svelte-h":!0}),F(o)!=="svelte-6duvnh"&&(o.textContent=a),n=N(g),d&&d.l(g),g.forEach(v),E.forEach(v),_=N(M),b=p(M,"DIV",{class:!0});var I=S(b);w&&w.l(I),I.forEach(v),M.forEach(v),this.h()},h(){h(s,"type","text"),h(s,"placeholder","Search for tracks, artists, or albums..."),h(s,"class","search-input svelte-1tik46b"),h(o,"class","search-icon svelte-1tik46b"),h(t,"class","search-input-wrapper svelte-1tik46b"),h(l,"class","search-container svelte-1tik46b"),h(b,"class","search-results"),h(e,"class","search-section")},m(A,M){H(A,e,M),c(e,l),c(l,t),c(t,s),ue(s,i[1]),c(t,r),c(t,o),c(t,n),d&&d.m(t,null),c(e,_),c(e,b),w&&w.m(b,null),k||(T=[z(s,"input",i[20]),z(s,"input",i[10])],k=!0)},p(A,M){M[0]&2&&s.value!==A[1]&&ue(s,A[1]),A[5]?d||(d=_e(),d.c(),d.m(t,null)):d&&(d.d(1),d=null),y===(y=C(A))&&w?w.p(A,M):(w&&w.d(1),w=y&&y(A),w&&(w.c(),w.m(b,null)))},d(A){A&&v(e),d&&d.d(),w&&w.d(),k=!1,ae(T)}}}function _e(i){let e,l='<div class="loading-spinner svelte-1tik46b"></div>';return{c(){e=m("div"),e.innerHTML=l,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-1syvpah"&&(e.innerHTML=l),this.h()},h(){h(e,"class","search-loading svelte-1tik46b")},m(t,s){H(t,e,s)},d(t){t&&v(e)}}}function Le(i){let e,l='<span class="help-icon svelte-1tik46b">üí°</span> <h3 class="svelte-1tik46b">Start searching</h3> <p>Enter at least 2 characters to search for music</p>';return{c(){e=m("div"),e.innerHTML=l,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-3pltwc"&&(e.innerHTML=l),this.h()},h(){h(e,"class","search-help svelte-1tik46b")},m(t,s){H(t,e,s)},p:Z,d(t){t&&v(e)}}}function Fe(i){let e,l='<span class="no-results-icon svelte-1tik46b">üéµ</span> <h3 class="svelte-1tik46b">No tracks found</h3> <p>Try a different search term</p>';return{c(){e=m("div"),e.innerHTML=l,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-18nunwj"&&(e.innerHTML=l),this.h()},h(){h(e,"class","no-results svelte-1tik46b")},m(t,s){H(t,e,s)},p:Z,d(t){t&&v(e)}}}function je(i){let e,l,t,s=i[2].length+"",r,o,a,n,_,b=i[2].length>0&&be(i),k=x(i[2]),T=[];for(let d=0;d<k.length;d+=1)T[d]=Te(pe(i,k,d));return{c(){e=m("div"),l=m("h3"),t=R("Search Results ("),r=R(s),o=R(")"),a=V(),b&&b.c(),n=V(),_=m("div");for(let d=0;d<T.length;d+=1)T[d].c();this.h()},l(d){e=p(d,"DIV",{class:!0});var C=S(e);l=p(C,"H3",{class:!0});var y=S(l);t=U(y,"Search Results ("),r=U(y,s),o=U(y,")"),y.forEach(v),a=N(C),b&&b.l(C),C.forEach(v),n=N(d),_=p(d,"DIV",{class:!0});var w=S(_);for(let A=0;A<T.length;A+=1)T[A].l(w);w.forEach(v),this.h()},h(){h(l,"class","svelte-1tik46b"),h(e,"class","results-header svelte-1tik46b"),h(_,"class","tracks-grid svelte-1tik46b")},m(d,C){H(d,e,C),c(e,l),c(l,t),c(l,r),c(l,o),c(e,a),b&&b.m(e,null),H(d,n,C),H(d,_,C);for(let y=0;y<T.length;y+=1)T[y]&&T[y].m(_,null)},p(d,C){if(C[0]&4&&s!==(s=d[2].length+"")&&W(r,s),d[2].length>0?b?b.p(d,C):(b=be(d),b.c(),b.m(e,null)):b&&(b.d(1),b=null),C[0]&12292){k=x(d[2]);let y;for(y=0;y<k.length;y+=1){const w=pe(d,k,y);T[y]?T[y].p(w,C):(T[y]=Te(w),T[y].c(),T[y].m(_,null))}for(;y<T.length;y+=1)T[y].d(1);T.length=k.length}},d(d){d&&(v(e),v(n),v(_)),b&&b.d(),ne(T,d)}}}function Be(i){let e,l,t="‚ö†Ô∏è",s,r,o;return{c(){e=m("div"),l=m("span"),l.textContent=t,s=V(),r=m("p"),o=R(i[7]),this.h()},l(a){e=p(a,"DIV",{class:!0});var n=S(e);l=p(n,"SPAN",{class:!0,"data-svelte-h":!0}),F(l)!=="svelte-afr8fm"&&(l.textContent=t),s=N(n),r=p(n,"P",{});var _=S(r);o=U(_,i[7]),_.forEach(v),n.forEach(v),this.h()},h(){h(l,"class","error-icon svelte-1tik46b"),h(e,"class","error-message svelte-1tik46b")},m(a,n){H(a,e,n),c(e,l),c(e,s),c(e,r),c(r,o)},p(a,n){n[0]&128&&W(o,a[7])},d(a){a&&v(e)}}}function be(i){let e,l="‚ñ∂Ô∏è Play All",t,s;return{c(){e=m("button"),e.textContent=l,this.h()},l(r){e=p(r,"BUTTON",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-bbgrip"&&(e.textContent=l),this.h()},h(){h(e,"class","play-all-btn svelte-1tik46b")},m(r,o){H(r,e,o),t||(s=z(e,"click",i[21]),t=!0)},p:Z,d(r){r&&v(e),t=!1,s()}}}function Te(i){let e,l,t,s=i[38].title+"",r,o,a,n=i[38].artist+"",_,b,k,T=i[38].album+"",d,C,y,w=re(i[38].duration)+"",A,M,E,g,I="‚ñ∂Ô∏è",Q,D,j="‚ûï",B,O,ee="üë§",J,X,te;function le(...L){return i[22](i[38],...L)}function se(...L){return i[23](i[38],...L)}function oe(){return i[24](i[38])}return{c(){e=m("div"),l=m("div"),t=m("h4"),r=R(s),o=V(),a=m("p"),_=R(n),b=V(),k=m("p"),d=R(T),C=V(),y=m("span"),A=R(w),M=V(),E=m("div"),g=m("button"),g.textContent=I,Q=V(),D=m("button"),D.textContent=j,B=V(),O=m("button"),O.textContent=ee,J=V(),this.h()},l(L){e=p(L,"DIV",{class:!0});var u=S(e);l=p(u,"DIV",{class:!0});var f=S(l);t=p(f,"H4",{class:!0});var q=S(t);r=U(q,s),q.forEach(v),o=N(f),a=p(f,"P",{class:!0});var $=S(a);_=U($,n),$.forEach(v),b=N(f),k=p(f,"P",{class:!0});var G=S(k);d=U(G,T),G.forEach(v),C=N(f),y=p(f,"SPAN",{class:!0});var ie=S(y);A=U(ie,w),ie.forEach(v),f.forEach(v),M=N(u),E=p(u,"DIV",{class:!0});var K=S(E);g=p(K,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),F(g)!=="svelte-6arqsf"&&(g.textContent=I),Q=N(K),D=p(K,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),F(D)!=="svelte-15veoa5"&&(D.textContent=j),B=N(K),O=p(K,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),F(O)!=="svelte-13wgxc3"&&(O.textContent=ee),K.forEach(v),J=N(u),u.forEach(v),this.h()},h(){h(t,"class","track-title svelte-1tik46b"),h(a,"class","track-artist svelte-1tik46b"),h(k,"class","track-album svelte-1tik46b"),h(y,"class","track-duration svelte-1tik46b"),h(l,"class","track-info svelte-1tik46b"),h(g,"class","action-btn play-btn svelte-1tik46b"),h(g,"title","Play"),h(D,"class","action-btn queue-btn svelte-1tik46b"),h(D,"title","Add to Queue"),h(O,"class","action-btn artist-btn svelte-1tik46b"),h(O,"title","Monitor Artist"),h(E,"class","track-actions svelte-1tik46b"),h(e,"class","track-card svelte-1tik46b")},m(L,u){H(L,e,u),c(e,l),c(l,t),c(t,r),c(l,o),c(l,a),c(a,_),c(l,b),c(l,k),c(k,d),c(l,C),c(l,y),c(y,A),c(e,M),c(e,E),c(E,g),c(E,Q),c(E,D),c(E,B),c(E,O),c(e,J),X||(te=[z(g,"click",le),z(D,"click",se),z(O,"click",oe)],X=!0)},p(L,u){i=L,u[0]&4&&s!==(s=i[38].title+"")&&W(r,s),u[0]&4&&n!==(n=i[38].artist+"")&&W(_,n),u[0]&4&&T!==(T=i[38].album+"")&&W(d,T),u[0]&4&&w!==(w=re(i[38].duration)+"")&&W(A,w)},d(L){L&&v(e),X=!1,ae(te)}}}function ye(i){let e;function l(r,o){return r[6]?qe:r[8]?Re:Ue}let t=l(i),s=t(i);return{c(){e=m("div"),s.c(),this.h()},l(r){e=p(r,"DIV",{class:!0});var o=S(e);s.l(o),o.forEach(v),this.h()},h(){h(e,"class","discovery-section")},m(r,o){H(r,e,o),s.m(e,null)},p(r,o){t===(t=l(r))&&s?s.p(r,o):(s.d(1),s=t(r),s&&(s.c(),s.m(e,null)))},d(r){r&&v(e),s.d()}}}function Ue(i){let e,l,t='<h3 class="svelte-1tik46b">Recommended for You</h3> <p class="section-subtitle svelte-1tik46b">Based on your listening history</p>',s;function r(n,_){return n[3].length>0?ze:We}let o=r(i),a=o(i);return{c(){e=m("div"),l=m("div"),l.innerHTML=t,s=V(),a.c(),this.h()},l(n){e=p(n,"DIV",{class:!0});var _=S(e);l=p(_,"DIV",{class:!0,"data-svelte-h":!0}),F(l)!=="svelte-lmlva4"&&(l.innerHTML=t),s=N(_),a.l(_),_.forEach(v),this.h()},h(){h(l,"class","section-header svelte-1tik46b"),h(e,"class","discovery-content")},m(n,_){H(n,e,_),c(e,l),c(e,s),a.m(e,null)},p(n,_){o===(o=r(n))&&a?a.p(n,_):(a.d(1),a=o(n),a&&(a.c(),a.m(e,null)))},d(n){n&&v(e),a.d()}}}function Re(i){let e,l,t="‚ö†Ô∏è",s,r,o,a,n,_="üîÑ Retry",b,k;return{c(){e=m("div"),l=m("span"),l.textContent=t,s=V(),r=m("p"),o=R(i[8]),a=V(),n=m("button"),n.textContent=_,this.h()},l(T){e=p(T,"DIV",{class:!0});var d=S(e);l=p(d,"SPAN",{class:!0,"data-svelte-h":!0}),F(l)!=="svelte-afr8fm"&&(l.textContent=t),s=N(d),r=p(d,"P",{});var C=S(r);o=U(C,i[8]),C.forEach(v),a=N(d),n=p(d,"BUTTON",{class:!0,"data-svelte-h":!0}),F(n)!=="svelte-5ofq1s"&&(n.textContent=_),d.forEach(v),this.h()},h(){h(l,"class","error-icon svelte-1tik46b"),h(n,"class","retry-btn svelte-1tik46b"),h(e,"class","error-message svelte-1tik46b")},m(T,d){H(T,e,d),c(e,l),c(e,s),c(e,r),c(r,o),c(e,a),c(e,n),b||(k=z(n,"click",i[11]),b=!0)},p(T,d){d[0]&256&&W(o,T[8])},d(T){T&&v(e),b=!1,k()}}}function qe(i){let e,l='<div class="loading-spinner large svelte-1tik46b"></div> <p>Loading discovery recommendations...</p>';return{c(){e=m("div"),e.innerHTML=l,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-166mx4"&&(e.innerHTML=l),this.h()},h(){h(e,"class","loading-container svelte-1tik46b")},m(t,s){H(t,e,s)},p:Z,d(t){t&&v(e)}}}function We(i){let e,l='<span class="empty-icon svelte-1tik46b">üéß</span> <h3 class="svelte-1tik46b">No recommendations available</h3> <p>Start listening to music to get personalized recommendations</p>';return{c(){e=m("div"),e.innerHTML=l,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-1p12kdo"&&(e.innerHTML=l),this.h()},h(){h(e,"class","empty-discovery svelte-1tik46b")},m(t,s){H(t,e,s)},p:Z,d(t){t&&v(e)}}}function ze(i){let e,l=x(i[3]),t=[];for(let s=0;s<l.length;s+=1)t[s]=ge(ve(i,l,s));return{c(){e=m("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=p(s,"DIV",{class:!0});var r=S(e);for(let o=0;o<t.length;o+=1)t[o].l(r);r.forEach(v),this.h()},h(){h(e,"class","tracks-grid svelte-1tik46b")},m(s,r){H(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r[0]&12296){l=x(s[3]);let o;for(o=0;o<l.length;o+=1){const a=ve(s,l,o);t[o]?t[o].p(a,r):(t[o]=ge(a),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(s){s&&v(e),ne(t,s)}}}function ge(i){let e,l,t,s=i[38].title+"",r,o,a,n=i[38].artist+"",_,b,k,T=i[38].album+"",d,C,y,w=re(i[38].duration)+"",A,M,E,g,I="‚ñ∂Ô∏è",Q,D,j="‚ûï",B,O,ee="üë§",J,X,te;function le(...L){return i[25](i[38],...L)}function se(...L){return i[26](i[38],...L)}function oe(){return i[27](i[38])}return{c(){e=m("div"),l=m("div"),t=m("h4"),r=R(s),o=V(),a=m("p"),_=R(n),b=V(),k=m("p"),d=R(T),C=V(),y=m("span"),A=R(w),M=V(),E=m("div"),g=m("button"),g.textContent=I,Q=V(),D=m("button"),D.textContent=j,B=V(),O=m("button"),O.textContent=ee,J=V(),this.h()},l(L){e=p(L,"DIV",{class:!0});var u=S(e);l=p(u,"DIV",{class:!0});var f=S(l);t=p(f,"H4",{class:!0});var q=S(t);r=U(q,s),q.forEach(v),o=N(f),a=p(f,"P",{class:!0});var $=S(a);_=U($,n),$.forEach(v),b=N(f),k=p(f,"P",{class:!0});var G=S(k);d=U(G,T),G.forEach(v),C=N(f),y=p(f,"SPAN",{class:!0});var ie=S(y);A=U(ie,w),ie.forEach(v),f.forEach(v),M=N(u),E=p(u,"DIV",{class:!0});var K=S(E);g=p(K,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),F(g)!=="svelte-15u7l5p"&&(g.textContent=I),Q=N(K),D=p(K,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),F(D)!=="svelte-tlk9qd"&&(D.textContent=j),B=N(K),O=p(K,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),F(O)!=="svelte-1yuy41h"&&(O.textContent=ee),K.forEach(v),J=N(u),u.forEach(v),this.h()},h(){h(t,"class","track-title svelte-1tik46b"),h(a,"class","track-artist svelte-1tik46b"),h(k,"class","track-album svelte-1tik46b"),h(y,"class","track-duration svelte-1tik46b"),h(l,"class","track-info svelte-1tik46b"),h(g,"class","action-btn play-btn svelte-1tik46b"),h(g,"title","Play"),h(D,"class","action-btn queue-btn svelte-1tik46b"),h(D,"title","Add to Queue"),h(O,"class","action-btn artist-btn svelte-1tik46b"),h(O,"title","Monitor Artist"),h(E,"class","track-actions svelte-1tik46b"),h(e,"class","track-card discovery-card svelte-1tik46b")},m(L,u){H(L,e,u),c(e,l),c(l,t),c(t,r),c(l,o),c(l,a),c(a,_),c(l,b),c(l,k),c(k,d),c(l,C),c(l,y),c(y,A),c(e,M),c(e,E),c(E,g),c(E,Q),c(E,D),c(E,B),c(E,O),c(e,J),X||(te=[z(g,"click",le),z(D,"click",se),z(O,"click",oe)],X=!0)},p(L,u){i=L,u[0]&8&&s!==(s=i[38].title+"")&&W(r,s),u[0]&8&&n!==(n=i[38].artist+"")&&W(_,n),u[0]&8&&T!==(T=i[38].album+"")&&W(d,T),u[0]&8&&w!==(w=re(i[38].duration)+"")&&W(A,w)},d(L){L&&v(e),X=!1,ae(te)}}}function ke(i){let e,l,t='<h3 class="svelte-1tik46b">Trending Artists</h3> <p class="section-subtitle svelte-1tik46b">Popular artists in your library</p>',s;function r(n,_){return n[4].length>0?Ke:Ge}let o=r(i),a=o(i);return{c(){e=m("div"),l=m("div"),l.innerHTML=t,s=V(),a.c(),this.h()},l(n){e=p(n,"DIV",{class:!0});var _=S(e);l=p(_,"DIV",{class:!0,"data-svelte-h":!0}),F(l)!=="svelte-32fr7g"&&(l.innerHTML=t),s=N(_),a.l(_),_.forEach(v),this.h()},h(){h(l,"class","section-header svelte-1tik46b"),h(e,"class","trending-section")},m(n,_){H(n,e,_),c(e,l),c(e,s),a.m(e,null)},p(n,_){o===(o=r(n))&&a?a.p(n,_):(a.d(1),a=o(n),a&&(a.c(),a.m(e,null)))},d(n){n&&v(e),a.d()}}}function Ge(i){let e,l='<span class="empty-icon svelte-1tik46b">‚≠ê</span> <h3 class="svelte-1tik46b">No trending artists</h3> <p>Add some artists to monitoring to see trending content</p>';return{c(){e=m("div"),e.innerHTML=l,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-1ar74vw"&&(e.innerHTML=l),this.h()},h(){h(e,"class","empty-trending svelte-1tik46b")},m(t,s){H(t,e,s)},p:Z,d(t){t&&v(e)}}}function Ke(i){let e,l=x(i[4]),t=[];for(let s=0;s<l.length;s+=1)t[s]=Pe(fe(i,l,s));return{c(){e=m("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=p(s,"DIV",{class:!0});var r=S(e);for(let o=0;o<t.length;o+=1)t[o].l(r);r.forEach(v),this.h()},h(){h(e,"class","artists-grid svelte-1tik46b")},m(s,r){H(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r[0]&16){l=x(s[4]);let o;for(o=0;o<l.length;o+=1){const a=fe(s,l,o);t[o]?t[o].p(a,r):(t[o]=Pe(a),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(s){s&&v(e),ne(t,s)}}}function Ye(i){let e;return{c(){e=R("Monitored artist")},l(l){e=U(l,"Monitored artist")},m(l,t){H(l,e,t)},p:Z,d(l){l&&v(e)}}}function Je(i){let e=(i[32].statistics.album_count||0)+"",l,t,s=(i[32].statistics.track_count||0)+"",r,o;return{c(){l=R(e),t=R(" albums ‚Ä¢ "),r=R(s),o=R(" tracks")},l(a){l=U(a,e),t=U(a," albums ‚Ä¢ "),r=U(a,s),o=U(a," tracks")},m(a,n){H(a,l,n),H(a,t,n),H(a,r,n),H(a,o,n)},p(a,n){n[0]&16&&e!==(e=(a[32].statistics.album_count||0)+"")&&W(l,e),n[0]&16&&s!==(s=(a[32].statistics.track_count||0)+"")&&W(r,s)},d(a){a&&(v(l),v(t),v(r),v(o))}}}function Ee(i){let e,l=x(i[32].genres.slice(0,3)),t=[];for(let s=0;s<l.length;s+=1)t[s]=De(he(i,l,s));return{c(){e=m("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=p(s,"DIV",{class:!0});var r=S(e);for(let o=0;o<t.length;o+=1)t[o].l(r);r.forEach(v),this.h()},h(){h(e,"class","artist-genres svelte-1tik46b")},m(s,r){H(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,r){if(r[0]&16){l=x(s[32].genres.slice(0,3));let o;for(o=0;o<l.length;o+=1){const a=he(s,l,o);t[o]?t[o].p(a,r):(t[o]=De(a),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(s){s&&v(e),ne(t,s)}}}function De(i){let e,l=i[35]+"",t;return{c(){e=m("span"),t=R(l),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=S(e);t=U(r,l),r.forEach(v),this.h()},h(){h(e,"class","genre-tag svelte-1tik46b")},m(s,r){H(s,e,r),c(e,t)},p(s,r){r[0]&16&&l!==(l=s[35]+"")&&W(t,l)},d(s){s&&v(e)}}}function Pe(i){let e,l,t,s=(i[32].artist_name||i[32].artistName)+"",r,o,a,n,_,b,k,T="üë§ Monitor",d,C,y;function w(I,Q){return I[32].statistics?Je:Ye}let A=w(i),M=A(i),E=i[32].genres&&i[32].genres.length>0&&Ee(i);function g(){return i[28](i[32])}return{c(){e=m("div"),l=m("div"),t=m("h4"),r=R(s),o=V(),a=m("p"),M.c(),n=V(),E&&E.c(),_=V(),b=m("div"),k=m("button"),k.textContent=T,d=V(),this.h()},l(I){e=p(I,"DIV",{class:!0});var Q=S(e);l=p(Q,"DIV",{class:!0});var D=S(l);t=p(D,"H4",{class:!0});var j=S(t);r=U(j,s),j.forEach(v),o=N(D),a=p(D,"P",{class:!0});var B=S(a);M.l(B),B.forEach(v),n=N(D),E&&E.l(D),D.forEach(v),_=N(Q),b=p(Q,"DIV",{class:!0});var O=S(b);k=p(O,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),F(k)!=="svelte-gsct3l"&&(k.textContent=T),O.forEach(v),d=N(Q),Q.forEach(v),this.h()},h(){h(t,"class","artist-name svelte-1tik46b"),h(a,"class","artist-stats svelte-1tik46b"),h(l,"class","artist-info"),h(k,"class","action-btn monitor-btn svelte-1tik46b"),h(k,"title","Monitor Artist"),h(b,"class","artist-actions"),h(e,"class","artist-card svelte-1tik46b")},m(I,Q){H(I,e,Q),c(e,l),c(l,t),c(t,r),c(l,o),c(l,a),M.m(a,null),c(l,n),E&&E.m(l,null),c(e,_),c(e,b),c(b,k),c(e,d),C||(y=z(k,"click",g),C=!0)},p(I,Q){i=I,Q[0]&16&&s!==(s=(i[32].artist_name||i[32].artistName)+"")&&W(r,s),A===(A=w(i))&&M?M.p(i,Q):(M.d(1),M=A(i),M&&(M.c(),M.m(a,null))),i[32].genres&&i[32].genres.length>0?E?E.p(i,Q):(E=Ee(i),E.c(),E.m(l,null)):E&&(E.d(1),E=null)},d(I){I&&v(e),M.d(),E&&E.d(),C=!1,y()}}}function Xe(i){let e,l,t,s=`<h1 class="discovery-title svelte-1tik46b"><span class="title-icon svelte-1tik46b">üîç</span>
				Discover Music</h1> <p class="discovery-subtitle svelte-1tik46b">Find new tracks, explore artists, and expand your library</p>`,r,o,a,n=`<span class="tab-icon svelte-1tik46b">üîç</span>
				Search`,_,b,k=`<span class="tab-icon svelte-1tik46b">üéµ</span>
				Discover`,T,d,C=`<span class="tab-icon svelte-1tik46b">üî•</span>
				Trending`,y,w,A,M,E,g=i[9]==="search"&&me(i),I=i[9]==="discover"&&ye(i),Q=i[9]==="trending"&&ke(i);return{c(){e=m("div"),l=m("div"),t=m("div"),t.innerHTML=s,r=V(),o=m("nav"),a=m("button"),a.innerHTML=n,_=V(),b=m("button"),b.innerHTML=k,T=V(),d=m("button"),d.innerHTML=C,y=V(),g&&g.c(),w=V(),I&&I.c(),A=V(),Q&&Q.c(),this.h()},l(D){e=p(D,"DIV",{class:!0});var j=S(e);l=p(j,"DIV",{class:!0});var B=S(l);t=p(B,"DIV",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-cmq3wk"&&(t.innerHTML=s),r=N(B),o=p(B,"NAV",{class:!0});var O=S(o);a=p(O,"BUTTON",{class:!0,"data-svelte-h":!0}),F(a)!=="svelte-k5j1jr"&&(a.innerHTML=n),_=N(O),b=p(O,"BUTTON",{class:!0,"data-svelte-h":!0}),F(b)!=="svelte-zvr121"&&(b.innerHTML=k),T=N(O),d=p(O,"BUTTON",{class:!0,"data-svelte-h":!0}),F(d)!=="svelte-t3ai28"&&(d.innerHTML=C),O.forEach(v),y=N(B),g&&g.l(B),w=N(B),I&&I.l(B),A=N(B),Q&&Q.l(B),B.forEach(v),j.forEach(v),this.h()},h(){h(t,"class","discovery-header svelte-1tik46b"),h(a,"class","tab-btn svelte-1tik46b"),Y(a,"active",i[9]==="search"),h(b,"class","tab-btn svelte-1tik46b"),Y(b,"active",i[9]==="discover"),h(d,"class","tab-btn svelte-1tik46b"),Y(d,"active",i[9]==="trending"),h(o,"class","tab-nav svelte-1tik46b"),h(l,"class","container"),h(e,"class","music-discovery svelte-1tik46b"),Y(e,"loaded",i[0])},m(D,j){H(D,e,j),c(e,l),c(l,t),c(l,r),c(l,o),c(o,a),c(o,_),c(o,b),c(o,T),c(o,d),c(l,y),g&&g.m(l,null),c(l,w),I&&I.m(l,null),c(l,A),Q&&Q.m(l,null),M||(E=[z(a,"click",i[17]),z(b,"click",i[18]),z(d,"click",i[19])],M=!0)},p(D,j){j[0]&512&&Y(a,"active",D[9]==="search"),j[0]&512&&Y(b,"active",D[9]==="discover"),j[0]&512&&Y(d,"active",D[9]==="trending"),D[9]==="search"?g?g.p(D,j):(g=me(D),g.c(),g.m(l,w)):g&&(g.d(1),g=null),D[9]==="discover"?I?I.p(D,j):(I=ye(D),I.c(),I.m(l,A)):I&&(I.d(1),I=null),D[9]==="trending"?Q?Q.p(D,j):(Q=ke(D),Q.c(),Q.m(l,null)):Q&&(Q.d(1),Q=null),j[0]&1&&Y(e,"loaded",D[0])},i:Z,o:Z,d(D){D&&v(e),g&&g.d(),I&&I.d(),Q&&Q.d(),M=!1,ae(E)}}}async function Ze(i){try{const l=await(await fetch(`/api/v1/lidarr/search/${encodeURIComponent(i)}`)).json();return l.success&&l.results.length>0?l.results[0]:null}catch(e){return console.error("Artist search error:",e),null}}async function $e(i){try{const l=await(await fetch("/api/v1/lidarr/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({foreignArtistId:i.foreignArtistId,artistName:i.artistName,overview:i.overview,disambiguation:i.disambiguation,genres:i.genres,qualityProfileId:1,metadataProfileId:1,rootFolderPath:"/music"})})).json();l.success?alert(`Successfully added "${i.artistName}" to monitoring!`):alert(`Failed to add artist: ${l.error}`)}catch(e){console.error("Add artist error:",e),alert("Network error occurred while adding artist")}}function re(i){if(!i)return"0:00";const e=Math.floor(i/60),l=i%60;return`${e}:${l.toString().padStart(2,"0")}`}async function ce(i){const e=await Ze(i);e?await $e(e):alert(`Artist "${i}" not found in database`)}function xe(i,e,l){let{musicPlayer:t=null}=e,s=!1,r="",o=[],a=[],n=[],_=!1,b=!1,k=null,T=null,d="search",C=null,y="";Ae(()=>{console.log("üîß Discovery: onMount called"),console.log("üîß Discovery: Initial musicPlayer state:",{hasMusicPlayer:!!t,musicPlayerType:typeof t,musicPlayerMethods:t?Object.keys(t).filter(u=>typeof t[u]=="function"):[]}),l(0,s=!0),M(),typeof window<"u"&&(window.musicDiscoveryDebug={musicPlayer:t,testAddToQueue:u=>{console.log("üß™ Discovery Debug: Testing addToQueue with:",u),g({preventDefault:()=>{},stopPropagation:()=>{},type:"click"},u)},getCurrentMusicPlayer:()=>t,testTrack:{title:"Test Track",artist:"Test Artist",stream_url:"http://example.com/test.mp3"}},console.log("üîß Discovery: Debug info exported to window.musicDiscoveryDebug"))});async function w(u){if(!u||u.trim().length<2){l(2,o=[]);return}if(u!==y){y=u,l(5,_=!0),l(7,k=null);try{const q=await(await fetch(`/api/v1/tracks/search/${encodeURIComponent(u)}`)).json();q.success?l(2,o=q.tracks||[]):(l(7,k=q.error||"Search failed"),l(2,o=[]))}catch(f){console.error("Search error:",f),l(7,k="Network error occurred"),l(2,o=[])}finally{l(5,_=!1)}}}function A(){C&&clearTimeout(C),C=setTimeout(()=>{w(r)},300)}async function M(){l(6,b=!0),l(8,T=null);try{const f=await(await fetch("/api/v1/discover")).json();f.success?(l(3,a=f.discovery.tracks||[]),l(4,n=f.discovery.trending_artists||[])):l(8,T=f.error||"Failed to load discovery data")}catch(u){console.error("Discovery error:",u),l(8,T="Network error occurred")}finally{l(6,b=!1)}}function E(u,f){if(console.log("üöÄ Discovery: playTrack ENTRY - Function called!"),console.log("üöÄ Discovery: Track details:",{title:f==null?void 0:f.title,artist:f==null?void 0:f.artist,stream_url:f==null?void 0:f.stream_url,hasAllRequired:!!(f!=null&&f.title&&(f!=null&&f.artist)&&(f!=null&&f.stream_url))}),u.preventDefault(),u.stopPropagation(),console.log("üîç Discovery: musicPlayer state check for playTrack:",{hasMusicPlayer:!!t,musicPlayerType:typeof t,hasPlayTrackFromParentMethod:!!(t!=null&&t.playTrackFromParent),musicPlayerMethods:t?Object.keys(t).filter(q=>typeof t[q]=="function"):[]}),t&&t.playTrackFromParent){console.log("‚úÖ Discovery: Music player and method available, calling playTrackFromParent");try{t.playTrackFromParent(f),console.log("‚úÖ Discovery: musicPlayer.playTrackFromParent call completed successfully")}catch(q){console.error("‚ùå Discovery: Error calling musicPlayer.playTrackFromParent:",q),alert("Error playing track: "+q.message)}}else console.warn("‚ö†Ô∏è Discovery: Music player not available for playTrack"),alert("Music player not available for playing track - check console for details")}function g(u,f){var q,$;if(console.log("üöÄ Discovery: addToQueue ENTRY - Function called!"),console.log("üöÄ Discovery: Event details:",{type:u==null?void 0:u.type,target:(q=u==null?void 0:u.target)==null?void 0:q.tagName,currentTarget:($=u==null?void 0:u.currentTarget)==null?void 0:$.tagName,timeStamp:u==null?void 0:u.timeStamp}),console.log("üöÄ Discovery: Track details:",{title:f==null?void 0:f.title,artist:f==null?void 0:f.artist,stream_url:f==null?void 0:f.stream_url,hasAllRequired:!!(f!=null&&f.title&&(f!=null&&f.artist)&&(f!=null&&f.stream_url)),fullTrack:f}),u.preventDefault(),u.stopPropagation(),console.log("‚úÖ Discovery: Event preventDefault/stopPropagation completed"),console.log("üîç Discovery: musicPlayer state check:",{hasMusicPlayer:!!t,musicPlayerType:typeof t,hasAddTrackToQueueMethod:!!(t!=null&&t.addTrackToQueue),musicPlayerKeys:t?Object.keys(t):[],musicPlayerMethods:t?Object.keys(t).filter(G=>typeof t[G]=="function"):[]}),t&&t.addTrackToQueue){console.log("‚úÖ Discovery: Music player and method available, calling addTrackToQueue"),console.log("‚úÖ Discovery: About to call musicPlayer.addTrackToQueue with:",f.title);try{t.addTrackToQueue(f),console.log("‚úÖ Discovery: musicPlayer.addTrackToQueue call completed successfully")}catch(G){console.error("‚ùå Discovery: Error calling musicPlayer.addTrackToQueue:",G),console.error("‚ùå Discovery: Error stack:",G.stack),alert("Error adding to queue: "+G.message)}}else console.warn("‚ö†Ô∏è Discovery: Music player not available for addToQueue"),console.warn("‚ö†Ô∏è Discovery: Detailed failure analysis:",{musicPlayerExists:!!t,musicPlayerType:typeof t,addTrackToQueueExists:!!(t!=null&&t.addTrackToQueue),addTrackToQueueType:typeof(t==null?void 0:t.addTrackToQueue),allMusicPlayerProperties:t?Object.getOwnPropertyNames(t):[],allMusicPlayerMethods:t?Object.getOwnPropertyNames(t).filter(G=>typeof t[G]=="function"):[]}),alert("Music player not available for adding to queue - check console for details");console.log("üèÅ Discovery: addToQueue COMPLETE - Function finished")}function I(u){t&&t.setQueue&&u.length>0?(console.log("Playing all tracks from discovery, count:",u.length),t.setQueue(u,0)):t?u.length===0&&console.warn("No tracks to play"):console.warn("Music player not available for playAllTracks")}function Q(u){l(9,d=u),u==="discover"&&a.length===0&&M()}const D=()=>Q("search"),j=()=>Q("discover"),B=()=>Q("trending");function O(){r=this.value,l(1,r)}const ee=()=>I(o),J=(u,f)=>E(f,u),X=(u,f)=>g(f,u),te=u=>ce(u.artist),le=(u,f)=>E(f,u),se=(u,f)=>g(f,u),oe=u=>ce(u.artist),L=u=>ce(u.artist_name||u.artistName);return i.$$set=u=>{"musicPlayer"in u&&l(16,t=u.musicPlayer)},[s,r,o,a,n,_,b,k,T,d,A,M,E,g,I,Q,t,D,j,B,O,ee,J,X,te,le,se,oe,L]}class et extends Qe{constructor(e){super(),Se(this,e,xe,Xe,we,{musicPlayer:16},null,[-1,-1])}}function tt(i){let e,l,t,s,r;return s=new et({props:{musicPlayer:i[1]}}),{c(){e=m("meta"),l=V(),t=m("div"),He(s.$$.fragment),this.h()},l(o){const a=Ve("svelte-144bg5m",document.head);e=p(a,"META",{name:!0,content:!0}),a.forEach(v),l=N(o),t=p(o,"DIV",{class:!0});var n=S(t);Oe(s.$$.fragment,n),n.forEach(v),this.h()},h(){document.title="Discover Music - StepheyBot Music",h(e,"name","description"),h(e,"content","Discover new music, search tracks, and explore trending artists with StepheyBot Music's AI-powered recommendations."),h(t,"class","discover-page svelte-1ueob5g"),Y(t,"loaded",i[0])},m(o,a){c(document.head,e),H(o,l,a),H(o,t,a),Ne(s,t,null),r=!0},p(o,[a]){const n={};a&2&&(n.musicPlayer=o[1]),s.$set(n),(!r||a&1)&&Y(t,"loaded",o[0])},i(o){r||(Ie(s.$$.fragment,o),r=!0)},o(o){Me(s.$$.fragment,o),r=!1},d(o){o&&(v(l),v(t)),v(e),Ce(s)}}}function lt(i,e,l){console.log("üöÄ DISCOVER PAGE: JavaScript is executing!"),console.log("üöÄ DISCOVER PAGE: Window available:",typeof window<"u"),console.log("üöÄ DISCOVER PAGE: Location:",typeof window<"u"?window.location.href:"No window"),console.log("üîß Discover: musicPlayerActions import result:",P),console.log("üîß Discover: Import type:",typeof P),console.log("üîß Discover: Available methods:",P?Object.keys(P):"None"),console.log("üîß Discover: musicPlayerStore import result:",de),console.log("üîß Discover: Store type:",typeof de),P&&Object.keys(P).forEach(r=>{console.log(`üîß Discover: ${r} type:`,typeof P[r])});let t=!1,s=null;return Ae(()=>{l(0,t=!0),console.log("üîß Discover: Component mounted, musicPlayerActions:",P)}),typeof window<"u"&&(window.discoverDebug={musicPlayerActions:P,musicPlayer:s,testPlay:r=>{console.log("üß™ Discover Debug: Testing play with:",r),s!=null&&s.playTrackFromParent?s.playTrackFromParent(r):console.error("üß™ Discover Debug: musicPlayer.playTrackFromParent not available")},testAddToQueueFlow:(r=null)=>{var a,n,_,b,k;console.log("üöÄ E2E TEST: Starting comprehensive addToQueue flow test");const o=r||{title:"Test Track - E2E",artist:"Test Artist - E2E",album:"Test Album - E2E",stream_url:"http://example.com/test-e2e.mp3",duration:180};if(console.log("üß™ E2E TEST: Step 1 - Test track data:",o),console.log("üß™ E2E TEST: Step 2 - Check musicPlayerActions availability"),console.log("üß™ E2E TEST: musicPlayerActions:",{exists:!!P,type:typeof P,methods:P?Object.keys(P):[],addToQueue:{exists:!!((a=P)!=null&&a.addToQueue),type:typeof((n=P)==null?void 0:n.addToQueue)}}),console.log("üß™ E2E TEST: Step 3 - Check musicPlayer wrapper"),console.log("üß™ E2E TEST: musicPlayer wrapper:",{exists:!!s,type:typeof s,methods:s?Object.keys(s):[],addTrackToQueue:{exists:!!(s!=null&&s.addTrackToQueue),type:typeof(s==null?void 0:s.addTrackToQueue)}}),console.log("üß™ E2E TEST: Step 4 - Test musicPlayerActions.addToQueue directly"),(_=P)!=null&&_.addToQueue)try{P.addToQueue(o),console.log("‚úÖ E2E TEST: Direct musicPlayerActions.addToQueue succeeded")}catch(T){console.error("‚ùå E2E TEST: Direct musicPlayerActions.addToQueue failed:",T)}else console.error("‚ùå E2E TEST: musicPlayerActions.addToQueue not available");if(console.log("üß™ E2E TEST: Step 5 - Test musicPlayer wrapper addTrackToQueue"),s!=null&&s.addTrackToQueue)try{s.addTrackToQueue(o),console.log("‚úÖ E2E TEST: Wrapper musicPlayer.addTrackToQueue succeeded")}catch(T){console.error("‚ùå E2E TEST: Wrapper musicPlayer.addTrackToQueue failed:",T)}else console.error("‚ùå E2E TEST: musicPlayer.addTrackToQueue not available");console.log("üß™ E2E TEST: Step 6 - Simulate button click via Discovery component");try{const T={preventDefault:()=>console.log("üß™ E2E TEST: preventDefault called"),stopPropagation:()=>console.log("üß™ E2E TEST: stopPropagation called"),type:"click",target:{tagName:"BUTTON"},timeStamp:Date.now()};console.log("üß™ E2E TEST: Simulating Discovery component addToQueue call..."),(b=window.musicDiscoveryDebug)!=null&&b.testAddToQueue?window.musicDiscoveryDebug.testAddToQueue(o):console.error("‚ùå E2E TEST: musicDiscoveryDebug.testAddToQueue not available")}catch(T){console.error("‚ùå E2E TEST: Button click simulation failed:",T)}return console.log("üèÅ E2E TEST: Complete end-to-end test finished"),{testTrack:o,musicPlayerActionsAvailable:!!P,musicPlayerWrapperAvailable:!!s,canCallDirect:!!((k=P)!=null&&k.addToQueue),canCallWrapper:!!(s!=null&&s.addTrackToQueue)}},testMusicPlayerActions:()=>{var r,o,a,n;return console.log("üß™ QUICK TEST: musicPlayerActions:",{exists:!!P,type:typeof P,methods:P?Object.keys(P):[],playTrack:typeof((r=P)==null?void 0:r.playTrack),addToQueue:typeof((o=P)==null?void 0:o.addToQueue),setQueue:typeof((a=P)==null?void 0:a.setQueue),isPlayerAvailable:typeof((n=P)==null?void 0:n.isPlayerAvailable)}),!!P},testMusicPlayerWrapper:()=>(console.log("üß™ QUICK TEST: musicPlayer wrapper:",{exists:!!s,type:typeof s,methods:s?Object.keys(s):[],playTrackFromParent:typeof(s==null?void 0:s.playTrackFromParent),addTrackToQueue:typeof(s==null?void 0:s.addTrackToQueue),setQueue:typeof(s==null?void 0:s.setQueue)}),!!s),sampleTrack:{title:"Sample Test Track",artist:"Sample Test Artist",album:"Sample Test Album",stream_url:"http://example.com/sample.mp3",duration:200}},console.log("üîß Discover: Debug info exported to window.discoverDebug"),console.log("üîß Discover: Available test functions:"),console.log("  - window.discoverDebug.testAddToQueueFlow() - Full E2E test"),console.log("  - window.discoverDebug.testMusicPlayerActions() - Test store actions"),console.log("  - window.discoverDebug.testMusicPlayerWrapper() - Test wrapper"),console.log("  - window.discoverDebug.testPlay(track) - Test play functionality")),l(1,s={playTrackFromParent:r=>{var o;console.log("üéµ Discover: playTrackFromParent called with:",r.title),console.log("üéµ Discover: musicPlayerActions available:",!!P),console.log("üéµ Discover: musicPlayerActions.playTrack available:",!!((o=P)!=null&&o.playTrack)),P&&P.playTrack?(console.log("‚úÖ Discover: Calling musicPlayerActions.playTrack"),P.playTrack(r)):(console.error("‚ùå Discover: musicPlayerActions.playTrack not available"),console.error("‚ùå Discover: musicPlayerActions is:",P),alert("Play function not available - check console for details"))},addTrackToQueue:r=>{var o;console.log("üìù Discover: addTrackToQueue called with:",r.title),console.log("üìù Discover: musicPlayerActions available:",!!P),console.log("üìù Discover: musicPlayerActions.addToQueue available:",!!((o=P)!=null&&o.addToQueue)),P&&P.addToQueue?(console.log("‚úÖ Discover: Calling musicPlayerActions.addToQueue"),P.addToQueue(r)):(console.error("‚ùå Discover: musicPlayerActions.addToQueue not available"),console.error("‚ùå Discover: musicPlayerActions is:",P),alert("Add to queue function not available - check console for details"))},setQueue:(r,o=0)=>{var a;console.log("üéº Discover: setQueue called with",r.length,"tracks"),console.log("üéº Discover: musicPlayerActions available:",!!P),console.log("üéº Discover: musicPlayerActions.setQueue available:",!!((a=P)!=null&&a.setQueue)),P&&P.setQueue?(console.log("‚úÖ Discover: Calling musicPlayerActions.setQueue"),P.setQueue(r,o)):(console.error("‚ùå Discover: musicPlayerActions.setQueue not available"),console.error("‚ùå Discover: musicPlayerActions is:",P),alert("Set queue function not available - check console for details"))}}),[t,s]}class rt extends Qe{constructor(e){super(),Se(this,e,lt,tt,we,{})}}export{rt as component};
