import{s as ze,n as ke,o as Ue,r as Ge}from"../chunks/DP8VM1Me.js";import{S as We,i as Je,d as v,k as Oe,a as pe,b as t,o as Ie,l as n,m as Ye,g as p,c as i,e as f,n as I,j as m,h as c,p as Ve,s as ue,f as ee,t as te,q as Ke}from"../chunks/DOSGr0tm.js";import{e as Ae}from"../chunks/D6YF6ztN.js";import{m as w}from"../chunks/CY0B7flr.js";const Xe=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,{document:qe}=Xe;function je(o,e,l){const s=o.slice();return s[14]=e[l],s}function Ze(o,e,l){const s=o.slice();return s[11]=e[l],s}function $e(o,e,l){const s=o.slice();return s[11]=e[l],s}function et(o){let e,l,s,a="üéµ",d,r,D,T=xe(o[1].total_tracks)+"",_,q,U,H="Total Tracks",P,h,E,L="üíø",G,x,S,se=xe(o[1].total_albums)+"",ne,j,A,me="Albums",fe,W,C,B="üé§",J,K,N,V=xe(o[1].total_artists)+"",X,F,ae,re="Artists",ie,M,le,ce="üë•",de,R,Q,k=xe(o[1].total_users)+"",g,Y,Z,O="Active Users";return{c(){e=c("div"),l=c("div"),s=c("div"),s.textContent=a,d=m(),r=c("div"),D=c("div"),_=te(T),q=m(),U=c("div"),U.textContent=H,P=m(),h=c("div"),E=c("div"),E.textContent=L,G=m(),x=c("div"),S=c("div"),ne=te(se),j=m(),A=c("div"),A.textContent=me,fe=m(),W=c("div"),C=c("div"),C.textContent=B,J=m(),K=c("div"),N=c("div"),X=te(V),F=m(),ae=c("div"),ae.textContent=re,ie=m(),M=c("div"),le=c("div"),le.textContent=ce,de=m(),R=c("div"),Q=c("div"),g=te(k),Y=m(),Z=c("div"),Z.textContent=O,this.h()},l(u){e=i(u,"DIV",{class:!0});var y=f(e);l=i(y,"DIV",{class:!0});var _e=f(l);s=i(_e,"DIV",{class:!0,"data-svelte-h":!0}),I(s)!=="svelte-vahgy"&&(s.textContent=a),d=p(_e),r=i(_e,"DIV",{class:!0});var z=f(r);D=i(z,"DIV",{class:!0});var ge=f(D);_=ee(ge,T),ge.forEach(v),q=p(z),U=i(z,"DIV",{class:!0,"data-svelte-h":!0}),I(U)!=="svelte-1j51ic0"&&(U.textContent=H),z.forEach(v),_e.forEach(v),P=p(y),h=i(y,"DIV",{class:!0});var ve=f(h);E=i(ve,"DIV",{class:!0,"data-svelte-h":!0}),I(E)!=="svelte-xf82bq"&&(E.textContent=L),G=p(ve),x=i(ve,"DIV",{class:!0});var be=f(x);S=i(be,"DIV",{class:!0});var $=f(S);ne=ee($,se),$.forEach(v),j=p(be),A=i(be,"DIV",{class:!0,"data-svelte-h":!0}),I(A)!=="svelte-1p0k5we"&&(A.textContent=me),be.forEach(v),ve.forEach(v),fe=p(y),W=i(y,"DIV",{class:!0});var b=f(W);C=i(b,"DIV",{class:!0,"data-svelte-h":!0}),I(C)!=="svelte-dc8gk4"&&(C.textContent=B),J=p(b),K=i(b,"DIV",{class:!0});var oe=f(K);N=i(oe,"DIV",{class:!0});var he=f(N);X=ee(he,V),he.forEach(v),F=p(oe),ae=i(oe,"DIV",{class:!0,"data-svelte-h":!0}),I(ae)!=="svelte-1ir5q6g"&&(ae.textContent=re),oe.forEach(v),b.forEach(v),ie=p(y),M=i(y,"DIV",{class:!0});var ye=f(M);le=i(ye,"DIV",{class:!0,"data-svelte-h":!0}),I(le)!=="svelte-1wsjs6z"&&(le.textContent=ce),de=p(ye),R=i(ye,"DIV",{class:!0});var De=f(R);Q=i(De,"DIV",{class:!0});var Ee=f(Q);g=ee(Ee,k),Ee.forEach(v),Y=p(De),Z=i(De,"DIV",{class:!0,"data-svelte-h":!0}),I(Z)!=="svelte-knvzvo"&&(Z.textContent=O),De.forEach(v),ye.forEach(v),y.forEach(v),this.h()},h(){n(s,"class","stat-icon text-neon-cyan svelte-131fax8"),n(D,"class","stat-value svelte-131fax8"),n(U,"class","stat-label svelte-131fax8"),n(r,"class","stat-content"),n(l,"class","stat-card neon-glow svelte-131fax8"),n(E,"class","stat-icon text-neon-pink svelte-131fax8"),n(S,"class","stat-value svelte-131fax8"),n(A,"class","stat-label svelte-131fax8"),n(x,"class","stat-content"),n(h,"class","stat-card neon-glow-pink svelte-131fax8"),n(C,"class","stat-icon text-neon-purple svelte-131fax8"),n(N,"class","stat-value svelte-131fax8"),n(ae,"class","stat-label svelte-131fax8"),n(K,"class","stat-content"),n(W,"class","stat-card neon-glow-purple svelte-131fax8"),n(le,"class","stat-icon text-neon-cyan svelte-131fax8"),n(Q,"class","stat-value svelte-131fax8"),n(Z,"class","stat-label svelte-131fax8"),n(R,"class","stat-content"),n(M,"class","stat-card neon-glow svelte-131fax8"),n(e,"class","stats-grid svelte-131fax8")},m(u,y){pe(u,e,y),t(e,l),t(l,s),t(l,d),t(l,r),t(r,D),t(D,_),t(r,q),t(r,U),t(e,P),t(e,h),t(h,E),t(h,G),t(h,x),t(x,S),t(S,ne),t(x,j),t(x,A),t(e,fe),t(e,W),t(W,C),t(W,J),t(W,K),t(K,N),t(N,X),t(K,F),t(K,ae),t(e,ie),t(e,M),t(M,le),t(M,de),t(M,R),t(R,Q),t(Q,g),t(R,Y),t(R,Z)},p(u,y){y&2&&T!==(T=xe(u[1].total_tracks)+"")&&ue(_,T),y&2&&se!==(se=xe(u[1].total_albums)+"")&&ue(ne,se),y&2&&V!==(V=xe(u[1].total_artists)+"")&&ue(X,V),y&2&&k!==(k=xe(u[1].total_users)+"")&&ue(g,k)},d(u){u&&v(e)}}}function tt(o){let e,l,s="‚ö†Ô∏è",a,d,r,D;return{c(){e=c("div"),l=c("span"),l.textContent=s,a=m(),d=c("p"),r=te("Failed to load system stats: "),D=te(o[4]),this.h()},l(T){e=i(T,"DIV",{class:!0});var _=f(e);l=i(_,"SPAN",{class:!0,"data-svelte-h":!0}),I(l)!=="svelte-afr8fm"&&(l.textContent=s),a=p(_),d=i(_,"P",{});var q=f(d);r=ee(q,"Failed to load system stats: "),D=ee(q,o[4]),q.forEach(v),_.forEach(v),this.h()},h(){n(l,"class","error-icon svelte-131fax8"),n(e,"class","error-message svelte-131fax8")},m(T,_){pe(T,e,_),t(e,l),t(e,a),t(e,d),t(d,r),t(d,D)},p(T,_){_&16&&ue(D,T[4])},d(T){T&&v(e)}}}function st(o){let e,l=Ae(Array(4)),s=[];for(let a=0;a<l.length;a+=1)s[a]=at($e(o,l,a));return{c(){e=c("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=i(a,"DIV",{class:!0});var d=f(e);for(let r=0;r<s.length;r+=1)s[r].l(d);d.forEach(v),this.h()},h(){n(e,"class","stats-grid svelte-131fax8")},m(a,d){pe(a,e,d);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null)},p:ke,d(a){a&&v(e),Ve(s,a)}}}function at(o){let e,l='<div class="stat-icon skeleton svelte-131fax8" style="width: 40px; height: 40px;"></div> <div class="stat-content"><div class="skeleton" style="width: 60px; height: 20px; margin-bottom: 8px;"></div> <div class="skeleton" style="width: 100px; height: 16px;"></div></div> ';return{c(){e=c("div"),e.innerHTML=l,this.h()},l(s){e=i(s,"DIV",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-1opez91"&&(e.innerHTML=l),this.h()},h(){n(e,"class","stat-card skeleton svelte-131fax8")},m(s,a){pe(s,e,a)},p:ke,d(s){s&&v(e)}}}function Be(o){let e,l=`<span class="btn-icon svelte-131fax8">‚ñ∂Ô∏è</span>
							Play All`,s,a;return{c(){e=c("button"),e.innerHTML=l,this.h()},l(d){e=i(d,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),I(e)!=="svelte-54nv8m"&&(e.innerHTML=l),this.h()},h(){n(e,"class","play-all-btn svelte-131fax8"),n(e,"title","Play All")},m(d,r){pe(d,e,r),s||(a=Ie(e,"click",o[8]),s=!0)},p:ke,d(d){d&&v(e),s=!1,a()}}}function lt(o){let e,l='<div class="empty-icon svelte-131fax8">üéµ</div> <h3 class="svelte-131fax8">No recommendations yet</h3> <p class="svelte-131fax8">Generate your first recommendations to see them here</p> <a href="/recommendations" class="btn btn-primary">Get Started</a>';return{c(){e=c("div"),e.innerHTML=l,this.h()},l(s){e=i(s,"DIV",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-roq1si"&&(e.innerHTML=l),this.h()},h(){n(e,"class","empty-state svelte-131fax8")},m(s,a){pe(s,e,a)},p:ke,d(s){s&&v(e)}}}function ot(o){let e,l=Ae(o[2]),s=[];for(let a=0;a<l.length;a+=1)s[a]=Fe(je(o,l,a));return{c(){e=c("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=i(a,"DIV",{class:!0});var d=f(e);for(let r=0;r<s.length;r+=1)s[r].l(d);d.forEach(v),this.h()},h(){n(e,"class","recommendations-grid svelte-131fax8")},m(a,d){pe(a,e,d);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null)},p(a,d){if(d&100){l=Ae(a[2]);let r;for(r=0;r<l.length;r+=1){const D=je(a,l,r);s[r]?s[r].p(D,d):(s[r]=Fe(D),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=l.length}},d(a){a&&v(e),Ve(s,a)}}}function nt(o){let e,l=Ae(Array(6)),s=[];for(let a=0;a<l.length;a+=1)s[a]=rt(Ze(o,l,a));return{c(){e=c("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=i(a,"DIV",{class:!0});var d=f(e);for(let r=0;r<s.length;r+=1)s[r].l(d);d.forEach(v),this.h()},h(){n(e,"class","recommendations-grid svelte-131fax8")},m(a,d){pe(a,e,d);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null)},p:ke,d(a){a&&v(e),Ve(s,a)}}}function Fe(o){let e,l,s,a,d=Math.round(o[14].score*100)+"",r,D,T,_,q="Match",U,H,P,h=o[14].recommendation_type+"",E,L,G,x,S,se=o[14].title+"",ne,j,A,me=o[14].artist+"",fe,W,C,B=o[14].album+"",J,K,N,V,X=Re(o[14].duration)+"",F,ae,re,ie=o[14].year+"",M,le,ce,de,R=o[14].reason+"",Q,k,g,Y,Z='<span class="btn-icon svelte-131fax8">‚ñ∂Ô∏è</span>',O,u,y='<span class="btn-icon svelte-131fax8">‚ûï</span>',_e,z,ge;function ve(){return o[9](o[14])}function be(){return o[10](o[14])}return{c(){e=c("div"),l=c("div"),s=c("div"),a=c("span"),r=te(d),D=te("%"),T=m(),_=c("span"),_.textContent=q,U=m(),H=c("div"),P=c("span"),E=te(h),G=m(),x=c("div"),S=c("h3"),ne=te(se),j=m(),A=c("p"),fe=te(me),W=m(),C=c("p"),J=te(B),K=m(),N=c("div"),V=c("span"),F=te(X),ae=m(),re=c("span"),M=te(ie),le=m(),ce=c("div"),de=c("p"),Q=te(R),k=m(),g=c("div"),Y=c("button"),Y.innerHTML=Z,O=m(),u=c("button"),u.innerHTML=y,_e=m(),this.h()},l($){e=i($,"DIV",{class:!0});var b=f(e);l=i(b,"DIV",{class:!0});var oe=f(l);s=i(oe,"DIV",{class:!0});var he=f(s);a=i(he,"SPAN",{class:!0});var ye=f(a);r=ee(ye,d),D=ee(ye,"%"),ye.forEach(v),T=p(he),_=i(he,"SPAN",{class:!0,"data-svelte-h":!0}),I(_)!=="svelte-fv481f"&&(_.textContent=q),he.forEach(v),U=p(oe),H=i(oe,"DIV",{class:!0});var De=f(H);P=i(De,"SPAN",{class:!0});var Ee=f(P);E=ee(Ee,h),Ee.forEach(v),De.forEach(v),oe.forEach(v),G=p(b),x=i(b,"DIV",{class:!0});var Te=f(x);S=i(Te,"H3",{class:!0});var Pe=f(S);ne=ee(Pe,se),Pe.forEach(v),j=p(Te),A=i(Te,"P",{class:!0});var Se=f(A);fe=ee(Se,me),Se.forEach(v),W=p(Te),C=i(Te,"P",{class:!0});var Me=f(C);J=ee(Me,B),Me.forEach(v),Te.forEach(v),K=p(b),N=i(b,"DIV",{class:!0});var Ce=f(N);V=i(Ce,"SPAN",{class:!0});var He=f(V);F=ee(He,X),He.forEach(v),ae=p(Ce),re=i(Ce,"SPAN",{class:!0});var Le=f(re);M=ee(Le,ie),Le.forEach(v),Ce.forEach(v),le=p(b),ce=i(b,"DIV",{class:!0});var Ne=f(ce);de=i(Ne,"P",{class:!0});var Qe=f(de);Q=ee(Qe,R),Qe.forEach(v),Ne.forEach(v),k=p(b),g=i(b,"DIV",{class:!0});var we=f(g);Y=i(we,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),I(Y)!=="svelte-1kzph0l"&&(Y.innerHTML=Z),O=p(we),u=i(we,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),I(u)!=="svelte-70tf99"&&(u.innerHTML=y),we.forEach(v),_e=p(b),b.forEach(v),this.h()},h(){n(a,"class","score-value svelte-131fax8"),n(_,"class","score-label svelte-131fax8"),n(s,"class","track-score svelte-131fax8"),n(P,"class",L="type-badge type-"+o[14].recommendation_type+" svelte-131fax8"),n(H,"class","track-type"),n(l,"class","track-header svelte-131fax8"),n(S,"class","track-title svelte-131fax8"),n(A,"class","track-artist svelte-131fax8"),n(C,"class","track-album svelte-131fax8"),n(x,"class","track-info"),n(V,"class","track-duration"),n(re,"class","track-year"),n(N,"class","track-meta svelte-131fax8"),n(de,"class","reason-text svelte-131fax8"),n(ce,"class","track-reason"),n(Y,"class","action-btn play-btn svelte-131fax8"),n(Y,"title","Play"),n(u,"class","action-btn queue-btn svelte-131fax8"),n(u,"title","Add to Queue"),n(g,"class","track-actions svelte-131fax8"),n(e,"class","recommendation-card card-interactive svelte-131fax8")},m($,b){pe($,e,b),t(e,l),t(l,s),t(s,a),t(a,r),t(a,D),t(s,T),t(s,_),t(l,U),t(l,H),t(H,P),t(P,E),t(e,G),t(e,x),t(x,S),t(S,ne),t(x,j),t(x,A),t(A,fe),t(x,W),t(x,C),t(C,J),t(e,K),t(e,N),t(N,V),t(V,F),t(N,ae),t(N,re),t(re,M),t(e,le),t(e,ce),t(ce,de),t(de,Q),t(e,k),t(e,g),t(g,Y),t(g,O),t(g,u),t(e,_e),z||(ge=[Ie(Y,"click",ve),Ie(u,"click",be)],z=!0)},p($,b){o=$,b&4&&d!==(d=Math.round(o[14].score*100)+"")&&ue(r,d),b&4&&h!==(h=o[14].recommendation_type+"")&&ue(E,h),b&4&&L!==(L="type-badge type-"+o[14].recommendation_type+" svelte-131fax8")&&n(P,"class",L),b&4&&se!==(se=o[14].title+"")&&ue(ne,se),b&4&&me!==(me=o[14].artist+"")&&ue(fe,me),b&4&&B!==(B=o[14].album+"")&&ue(J,B),b&4&&X!==(X=Re(o[14].duration)+"")&&ue(F,X),b&4&&ie!==(ie=o[14].year+"")&&ue(M,ie),b&4&&R!==(R=o[14].reason+"")&&ue(Q,R)},d($){$&&v(e),z=!1,Ge(ge)}}}function rt(o){let e;return{c(){e=c("div"),this.h()},l(l){e=i(l,"DIV",{class:!0,style:!0}),f(e).forEach(v),this.h()},h(){n(e,"class","recommendation-card skeleton svelte-131fax8"),Ke(e,"height","120px")},m(l,s){pe(l,e,s)},p:ke,d(l){l&&v(e)}}}function it(o){let e,l,s,a,d,r,D='Welcome to the <span class="text-neon-cyan">Future</span> of Music',T,_,q='AI-powered recommendations tailored just for you, <span class="text-neon-pink">Stephey</span>',U,H,P,h=`<span>üéµ</span>
						Generate Quick Mix`,E,L,G=`<span>üéß</span>
						Explore Recommendations`,x,S,se='<div class="pulse-ring pulse-ring-1 svelte-131fax8"></div> <div class="pulse-ring pulse-ring-2 svelte-131fax8"></div> <div class="pulse-ring pulse-ring-3 svelte-131fax8"></div> <div class="hero-icon svelte-131fax8">ü§ñ</div>',ne,j,A,me="System Overview",fe,W,C,B,J,K="Your Latest Recommendations",N,V,X,F,ae=`View All
						<span class="section-link-arrow svelte-131fax8">‚Üí</span>`,re,ie,M,le='<h2 class="section-title svelte-131fax8">Quick Actions</h2> <div class="actions-grid svelte-131fax8"><a href="/library" class="action-card svelte-131fax8"><div class="action-icon svelte-131fax8">üìö</div> <h3 class="action-title svelte-131fax8">Browse Library</h3> <p class="action-description svelte-131fax8">Explore your music collection</p></a> <a href="/playlists" class="action-card svelte-131fax8"><div class="action-icon svelte-131fax8">üìù</div> <h3 class="action-title svelte-131fax8">Create Playlist</h3> <p class="action-description svelte-131fax8">Build custom playlists</p></a> <a href="/stats" class="action-card svelte-131fax8"><div class="action-icon svelte-131fax8">üìä</div> <h3 class="action-title svelte-131fax8">View Analytics</h3> <p class="action-description svelte-131fax8">See your listening patterns</p></a> <a href="/health" class="action-card svelte-131fax8"><div class="action-icon svelte-131fax8">‚ö°</div> <h3 class="action-title svelte-131fax8">System Status</h3> <p class="action-description svelte-131fax8">Check system health</p></a></div>',ce,de;function R(u,y){if(u[3])return st;if(u[4])return tt;if(u[1])return et}let Q=R(o),k=Q&&Q(o),g=o[2].length>0&&Be(o);function Y(u,y){return u[3]?nt:u[2].length>0?ot:lt}let Z=Y(o),O=Z(o);return{c(){e=m(),l=c("div"),s=c("div"),a=c("section"),d=c("div"),r=c("h1"),r.innerHTML=D,T=m(),_=c("p"),_.innerHTML=q,U=m(),H=c("div"),P=c("button"),P.innerHTML=h,E=m(),L=c("a"),L.innerHTML=G,x=m(),S=c("div"),S.innerHTML=se,ne=m(),j=c("section"),A=c("h2"),A.textContent=me,fe=m(),k&&k.c(),W=m(),C=c("section"),B=c("div"),J=c("h2"),J.textContent=K,N=m(),V=c("div"),g&&g.c(),X=m(),F=c("a"),F.innerHTML=ae,re=m(),O.c(),ie=m(),M=c("section"),M.innerHTML=le,this.h()},l(u){Ye("svelte-1wu2pdb",qe.head).forEach(v),e=p(u),l=i(u,"DIV",{class:!0});var _e=f(l);s=i(_e,"DIV",{class:!0});var z=f(s);a=i(z,"SECTION",{class:!0});var ge=f(a);d=i(ge,"DIV",{class:!0});var ve=f(d);r=i(ve,"H1",{class:!0,"data-svelte-h":!0}),I(r)!=="svelte-1ackc00"&&(r.innerHTML=D),T=p(ve),_=i(ve,"P",{class:!0,"data-svelte-h":!0}),I(_)!=="svelte-lbw647"&&(_.innerHTML=q),U=p(ve),H=i(ve,"DIV",{class:!0});var be=f(H);P=i(be,"BUTTON",{class:!0,"data-svelte-h":!0}),I(P)!=="svelte-ogkr3z"&&(P.innerHTML=h),E=p(be),L=i(be,"A",{href:!0,class:!0,"data-svelte-h":!0}),I(L)!=="svelte-1kp72qz"&&(L.innerHTML=G),be.forEach(v),ve.forEach(v),x=p(ge),S=i(ge,"DIV",{class:!0,"data-svelte-h":!0}),I(S)!=="svelte-dg7ics"&&(S.innerHTML=se),ge.forEach(v),ne=p(z),j=i(z,"SECTION",{class:!0});var $=f(j);A=i($,"H2",{class:!0,"data-svelte-h":!0}),I(A)!=="svelte-1d0sh9d"&&(A.textContent=me),fe=p($),k&&k.l($),$.forEach(v),W=p(z),C=i(z,"SECTION",{class:!0});var b=f(C);B=i(b,"DIV",{class:!0});var oe=f(B);J=i(oe,"H2",{class:!0,"data-svelte-h":!0}),I(J)!=="svelte-n2yxq3"&&(J.textContent=K),N=p(oe),V=i(oe,"DIV",{class:!0});var he=f(V);g&&g.l(he),X=p(he),F=i(he,"A",{href:!0,class:!0,"data-svelte-h":!0}),I(F)!=="svelte-u4mdzx"&&(F.innerHTML=ae),he.forEach(v),oe.forEach(v),re=p(b),O.l(b),b.forEach(v),ie=p(z),M=i(z,"SECTION",{class:!0,"data-svelte-h":!0}),I(M)!=="svelte-171jqk6"&&(M.innerHTML=le),z.forEach(v),_e.forEach(v),this.h()},h(){qe.title="Dashboard - StepheyBot Music",n(r,"class","hero-title svelte-131fax8"),n(_,"class","hero-subtitle svelte-131fax8"),n(P,"class","btn btn-primary svelte-131fax8"),n(L,"href","/recommendations"),n(L,"class","btn btn-secondary svelte-131fax8"),n(H,"class","hero-actions svelte-131fax8"),n(d,"class","hero-content svelte-131fax8"),n(S,"class","hero-visual svelte-131fax8"),n(a,"class","hero svelte-131fax8"),n(A,"class","section-title svelte-131fax8"),n(j,"class","stats-section svelte-131fax8"),n(J,"class","section-title svelte-131fax8"),n(F,"href","/recommendations"),n(F,"class","section-link svelte-131fax8"),n(V,"class","section-actions svelte-131fax8"),n(B,"class","section-header svelte-131fax8"),n(C,"class","recommendations-section svelte-131fax8"),n(M,"class","actions-section svelte-131fax8"),n(s,"class","container svelte-131fax8"),n(l,"class","dashboard svelte-131fax8"),Oe(l,"loaded",o[0])},m(u,y){pe(u,e,y),pe(u,l,y),t(l,s),t(s,a),t(a,d),t(d,r),t(d,T),t(d,_),t(d,U),t(d,H),t(H,P),t(H,E),t(H,L),t(a,x),t(a,S),t(s,ne),t(s,j),t(j,A),t(j,fe),k&&k.m(j,null),t(s,W),t(s,C),t(C,B),t(B,J),t(B,N),t(B,V),g&&g.m(V,null),t(V,X),t(V,F),t(C,re),O.m(C,null),t(s,ie),t(s,M),ce||(de=Ie(P,"click",vt),ce=!0)},p(u,[y]){Q===(Q=R(u))&&k?k.p(u,y):(k&&k.d(1),k=Q&&Q(u),k&&(k.c(),k.m(j,null))),u[2].length>0?g?g.p(u,y):(g=Be(u),g.c(),g.m(V,X)):g&&(g.d(1),g=null),Z===(Z=Y(u))&&O?O.p(u,y):(O.d(1),O=Z(u),O&&(O.c(),O.m(C,null))),y&1&&Oe(l,"loaded",u[0])},i:ke,o:ke,d(u){u&&(v(e),v(l)),k&&k.d(),g&&g.d(),O.d(),ce=!1,de()}}}async function ct(){try{const o=await fetch("/api/v1/library/stats");if(!o.ok)throw new Error("Failed to fetch stats");return await o.json()}catch(o){throw console.error("Error fetching system stats:",o),o}}async function dt(){try{const o=await fetch("/api/v1/recommendations/user1?limit=6");if(!o.ok)throw new Error("Failed to fetch recommendations");return(await o.json()).recommendations||[]}catch(o){throw console.error("Error fetching recommendations:",o),o}}async function vt(){var o;try{const e=await fetch("/api/v1/playlists/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"Quick Mix",description:"Auto-generated playlist for your current mood",duration_minutes:30})});if(!e.ok)throw new Error("Failed to generate playlist");const l=await e.json();alert(`Generated playlist: ${l.name} with ${((o=l.tracks)==null?void 0:o.length)||0} tracks!`)}catch(e){console.error("Error generating playlist:",e),alert("Failed to generate playlist. Please try again.")}}function xe(o){return new Intl.NumberFormat().format(o)}function Re(o){const e=Math.floor(o/60),l=o%60;return`${e}:${l.toString().padStart(2,"0")}`}function ut(o,e,l){console.log("üöÄ BASIC TEST: JavaScript is executing in +page.svelte"),console.log("üöÄ BASIC TEST: Window available:",typeof window<"u"),console.log("üöÄ BASIC TEST: Document available:",typeof document<"u"),console.log("üîß Debug: musicPlayerActions import result:",w),console.log("üîß Debug: Import type:",typeof w),console.log("üîß Debug: Available methods:",w?Object.keys(w):"None"),typeof window<"u"&&(window.musicPlayerActions=w,window.debugInfo={musicPlayerActions:w,importWorked:!!w,availableMethods:w?Object.keys(w):[]},console.log("üîß Debug: Exported to window.musicPlayerActions and window.debugInfo"));let s=!1,a=null,d=[],r=!0,D=null;Ue(async()=>{var h,E,L;console.log("üöÄ Dashboard: Component mounting..."),l(0,s=!0),console.log("üîç Dashboard: Checking musicPlayerActions:",{available:!!w,playTrack:!!((h=w)!=null&&h.playTrack),addToQueue:!!((E=w)!=null&&E.addToQueue),setQueue:!!((L=w)!=null&&L.setQueue)});try{console.log("üìä Dashboard: Fetching data...");const[G,x]=await Promise.all([ct(),dt()]);l(1,a=G),l(2,d=x),console.log("‚úÖ Dashboard: Data loaded successfully:",{stats:!!G,recommendationsCount:x.length})}catch(G){console.error("‚ùå Dashboard: Error loading data:",G),l(4,D=G.message)}finally{l(3,r=!1),console.log("üèÅ Dashboard: Component mount complete")}typeof window<"u"&&(window.dashboardState={mounted:s,systemStats:a,recentRecommendations:d,isLoading:r,error:D,playTrack:T,addToQueue:_,playAllRecommendations:q},console.log("üîß Debug: Dashboard state exported to window.dashboardState"))});function T(h){if(console.log("üéµ Dashboard: playTrack button clicked!"),console.log("üéµ Dashboard: Track details:",{title:h.title,artist:h.artist,stream_url:h.stream_url,track_id:h.track_id}),console.log("üéµ Dashboard: musicPlayerActions available:",!!w),console.log("üéµ Dashboard: musicPlayerActions type:",typeof w),console.log("üéµ Dashboard: musicPlayerActions content:",w),!w){console.error("‚ùå Dashboard: musicPlayerActions is undefined/null"),alert("Music player not available - check console for details");return}if(!w.playTrack){console.error("‚ùå Dashboard: musicPlayerActions.playTrack method missing"),alert("Music player playTrack method not available");return}console.log("üéµ Dashboard: Calling musicPlayerActions.playTrack...");try{w.playTrack(h),console.log("‚úÖ Dashboard: musicPlayerActions.playTrack called successfully")}catch(E){console.error("‚ùå Dashboard: Error calling musicPlayerActions.playTrack:",E),alert("Error playing track: "+E.message)}}function _(h){if(console.log("üìù Dashboard: addToQueue button clicked!"),console.log("üìù Dashboard: Track details:",{title:h.title,artist:h.artist,stream_url:h.stream_url}),console.log("üìù Dashboard: musicPlayerActions available:",!!w),!w||!w.addToQueue){console.error("‚ùå Dashboard: musicPlayerActions.addToQueue not available"),alert("Add to queue function not available");return}try{w.addToQueue(h),console.log("‚úÖ Dashboard: musicPlayerActions.addToQueue called successfully")}catch(E){console.error("‚ùå Dashboard: Error calling musicPlayerActions.addToQueue:",E),alert("Error adding to queue: "+E.message)}}function q(){if(console.log("üéº Dashboard: playAllRecommendations button clicked!"),console.log("üéº Dashboard: Recommendations count:",d.length),d.length>0){console.log("üéº Dashboard: Setting queue with recommendations:",d.map(h=>({title:h.title,artist:h.artist})));try{w.setQueue(d,0),console.log("‚úÖ Dashboard: musicPlayerActions.setQueue called successfully")}catch(h){console.error("‚ùå Dashboard: Error calling musicPlayerActions.setQueue:",h)}}else console.warn("‚ö†Ô∏è Dashboard: No recommendations available to play")}return[s,a,d,r,D,T,_,q,()=>{console.log("üéº Dashboard: Play All button clicked"),q()},h=>{console.log("üéµ Dashboard: Play button clicked for:",h.title),T(h)},h=>{console.log("üìù Dashboard: Queue button clicked for:",h.title),_(h)}]}class _t extends We{constructor(e){super(),Je(this,e,ut,it,ze,{})}}export{_t as component};
