# StepheyBot Music Configuration
# Copy this file to .env and configure the values for your setup

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server address and port
STEPHEYBOT__SERVER__ADDRESS=0.0.0.0
STEPHEYBOT__SERVER__PORT=8083

# Enable admin API endpoints (requires authentication in production)
STEPHEYBOT__SERVER__ENABLE_ADMIN_API=true

# Request timeout in seconds
STEPHEYBOT__SERVER__REQUEST_TIMEOUT=30

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# SQLite database URL
STEPHEYBOT__DATABASE__URL=sqlite:data/stepheybot-music.db

# Maximum number of database connections
STEPHEYBOT__DATABASE__MAX_CONNECTIONS=10

# Database connection timeout in seconds
STEPHEYBOT__DATABASE__CONNECTION_TIMEOUT=30

# =============================================================================
# NAVIDROME INTEGRATION
# =============================================================================

# Navidrome server URL (required)
STEPHEYBOT__NAVIDROME__URL=http://localhost:4533

# Navidrome credentials (required)
STEPHEYBOT__NAVIDROME__USERNAME=admin
STEPHEYBOT__NAVIDROME__PASSWORD=your_navidrome_password

# API timeout in seconds
STEPHEYBOT__NAVIDROME__TIMEOUT=10

# Verify SSL certificates
STEPHEYBOT__NAVIDROME__VERIFY_SSL=true

# =============================================================================
# LISTENBRAINZ INTEGRATION (Optional)
# =============================================================================

# ListenBrainz API URL
STEPHEYBOT__LISTENBRAINZ__URL=https://api.listenbrainz.org

# ListenBrainz user token (get from https://listenbrainz.org/profile/)
# STEPHEYBOT__LISTENBRAINZ__TOKEN=your_listenbrainz_token

# API timeout in seconds
STEPHEYBOT__LISTENBRAINZ__TIMEOUT=5

# Rate limit (requests per minute)
STEPHEYBOT__LISTENBRAINZ__RATE_LIMIT=60

# =============================================================================
# LIDARR INTEGRATION (Optional)
# =============================================================================

# Lidarr server URL
# STEPHEYBOT__LIDARR__URL=http://localhost:8686

# Lidarr API key (get from Lidarr Settings > General)
# STEPHEYBOT__LIDARR__API_KEY=your_lidarr_api_key

# API timeout in seconds
# STEPHEYBOT__LIDARR__TIMEOUT=10

# Enable automatic downloads
# STEPHEYBOT__LIDARR__ENABLE_DOWNLOADS=false

# Quality profile ID for downloads
# STEPHEYBOT__LIDARR__QUALITY_PROFILE_ID=1

# =============================================================================
# MUSICBRAINZ INTEGRATION (Optional)
# =============================================================================

# User agent for MusicBrainz API requests
STEPHEYBOT__MUSICBRAINZ__USER_AGENT=StepheyBot-Music/0.1.0 (contact@stepheybot.dev)

# API timeout in seconds
STEPHEYBOT__MUSICBRAINZ__TIMEOUT=5

# Rate limit (requests per second)
STEPHEYBOT__MUSICBRAINZ__RATE_LIMIT=1

# Enable cover art fetching
STEPHEYBOT__MUSICBRAINZ__ENABLE_COVER_ART=true

# =============================================================================
# FILE PATHS
# =============================================================================

# Music library path (where your music files are stored)
STEPHEYBOT__PATHS__MUSIC_PATH=/music

# Download path for new music
STEPHEYBOT__PATHS__DOWNLOAD_PATH=/downloads

# Cache directory for temporary files and thumbnails
STEPHEYBOT__PATHS__CACHE_PATH=/cache

# Database file path (if using file-based SQLite)
STEPHEYBOT__PATHS__DATABASE_PATH=data/stepheybot-music.db

# Log file directory
STEPHEYBOT__PATHS__LOG_PATH=logs

# =============================================================================
# BACKGROUND TASKS
# =============================================================================

# Enable background task processing
STEPHEYBOT__TASKS__ENABLE_BACKGROUND_TASKS=true

# Sync interval with Navidrome (in minutes)
STEPHEYBOT__TASKS__SYNC_INTERVAL=60

# Recommendation generation interval (in minutes)
STEPHEYBOT__TASKS__RECOMMENDATION_INTERVAL=1440

# Library scan interval (in minutes)
STEPHEYBOT__TASKS__LIBRARY_SCAN_INTERVAL=360

# Cleanup interval for old data (in minutes)
STEPHEYBOT__TASKS__CLEANUP_INTERVAL=1440

# =============================================================================
# RECOMMENDATION ENGINE
# =============================================================================

# Number of recommendations to generate per user
STEPHEYBOT__RECOMMENDATIONS__COUNT=50

# Minimum listening history required for personalized recommendations
STEPHEYBOT__RECOMMENDATIONS__MIN_LISTENING_HISTORY=10

# Weight for collaborative filtering (0.0-1.0)
STEPHEYBOT__RECOMMENDATIONS__COLLABORATIVE_WEIGHT=0.4

# Weight for content-based filtering (0.0-1.0)
STEPHEYBOT__RECOMMENDATIONS__CONTENT_WEIGHT=0.3

# Weight for popularity-based recommendations (0.0-1.0)
STEPHEYBOT__RECOMMENDATIONS__POPULARITY_WEIGHT=0.3

# Enable discovery mode (recommend lesser-known tracks)
STEPHEYBOT__RECOMMENDATIONS__ENABLE_DISCOVERY=true

# Ratio of discovery tracks to familiar tracks (0.0-1.0)
STEPHEYBOT__RECOMMENDATIONS__DISCOVERY_RATIO=0.2

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level (trace, debug, info, warn, error)
RUST_LOG=stepheybot_music=info,tower_http=debug,sqlx=warn

# Output logs in JSON format
STEPHEYBOT__LOGGING__JSON=false

# Enable file logging
STEPHEYBOT__LOGGING__FILE=true

# Log file rotation size in MB
STEPHEYBOT__LOGGING__ROTATION_SIZE=100

# Log retention in days
STEPHEYBOT__LOGGING__RETENTION=30

# =============================================================================
# SECURITY & PERFORMANCE
# =============================================================================

# Enable Rust backtrace for debugging
RUST_BACKTRACE=1

# Set to production for optimized performance
RUST_ENV=development

# JWT secret for session management (generate a secure random string)
# STEPHEYBOT__SECURITY__JWT_SECRET=your_jwt_secret_here

# Session timeout in hours
# STEPHEYBOT__SECURITY__SESSION_TIMEOUT=24

# Enable CORS for web interface
# STEPHEYBOT__SECURITY__ENABLE_CORS=true

# =============================================================================
# ADVANCED SETTINGS
# =============================================================================

# Enable metrics collection
# STEPHEYBOT__METRICS__ENABLED=true

# Metrics endpoint path
# STEPHEYBOT__METRICS__PATH=/metrics

# Enable OpenTelemetry tracing
# STEPHEYBOT__TRACING__ENABLED=false

# Tracing endpoint
# STEPHEYBOT__TRACING__ENDPOINT=http://localhost:14268/api/traces

# Cache TTL for recommendations (in seconds)
# STEPHEYBOT__CACHE__RECOMMENDATIONS_TTL=3600

# Cache TTL for music metadata (in seconds)
# STEPHEYBOT__CACHE__METADATA_TTL=86400

# =============================================================================
# DOCKER SPECIFIC SETTINGS
# =============================================================================

# When running in Docker, use these paths
# STEPHEYBOT__PATHS__MUSIC_PATH=/music
# STEPHEYBOT__PATHS__DOWNLOAD_PATH=/downloads
# STEPHEYBOT__PATHS__CACHE_PATH=/cache
# STEPHEYBOT__PATHS__DATABASE_PATH=/data/stepheybot-music.db
# STEPHEYBOT__PATHS__LOG_PATH=/logs

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Enable development features (hot reload, debug endpoints, etc.)
# STEPHEYBOT__DEVELOPMENT__ENABLED=true

# Enable SQL query logging (helpful for debugging)
# STEPHEYBOT__DEVELOPMENT__LOG_SQL=false

# Enable request/response logging
# STEPHEYBOT__DEVELOPMENT__LOG_REQUESTS=true

# Disable authentication for development
# STEPHEYBOT__DEVELOPMENT__DISABLE_AUTH=false
